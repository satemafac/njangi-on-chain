"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{5460:(e,t,r)=>{r.d(t,{ju:()=>v,L2:()=>I,Jk:()=>T,u0:()=>x,d_:()=>O,HD:()=>M,$b:()=>C,jo:()=>E});var n,i,s,a,o=r(6428),u=r(4356),l=r(241),c=r(1214);class d{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32();return BigInt("0x"+(this.read32().toString(16)+e.toString(16).padStart(8,"0"))).toString(10)}read128(){let e=BigInt(this.read64());return BigInt("0x"+(BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0"))).toString(10)}read256(){let e=BigInt(this.read128());return BigInt("0x"+(BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0"))).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=(0,c.j)(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}}var p=r(1051);class h{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let t=this.bytePosition+e;if(t>this.size){let e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;let r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return g(BigInt(e),8).forEach(e=>this.write8(e)),this}write128(e){return g(BigInt(e),16).forEach(e=>this.write8(e)),this}write256(e){return g(BigInt(e),32).forEach(e=>this.write8(e)),this}writeULEB(e){return(0,c.h)(e).forEach(e=>this.write8(e)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,n)=>t(this,r,n,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return(0,p.U6)(this.toBytes(),e)}}function g(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}var f=e=>{throw TypeError(e)},m=(e,t,r)=>t.has(e)||f("Cannot "+r),y=(e,t,r)=>(m(e,t,"read from private field"),r?r.call(e):t.get(e)),b=(e,t,r)=>t.has(e)?f("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),j=(e,t,r,n)=>(m(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);let w=class e{constructor(e){b(this,n),b(this,i),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),j(this,n,e.write),j(this,i,e.serialize??((e,t)=>{let r=new h({initialSize:this.serializedSize(e)??void 0,...t});return y(this,n).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),y(this,n).call(this,e,t)}serialize(e,t){return this.validate(e),new S(this,y(this,i).call(this,e,t))}parse(e){let t=new d(e);return this.read(t)}fromHex(e){return this.parse((0,o.a)(e))}fromBase58(e){return this.parse((0,u.n)(e))}fromBase64(e){return this.parse((0,l.E)(e))}transform({name:t,input:r,output:s,validate:a}){return new e({name:t??this.name,read:e=>s?s(this.read(e)):this.read(e),write:(e,t)=>y(this,n).call(this,r?r(e):e,t),serializedSize:e=>this.serializedSize(r?r(e):e),serialize:(e,t)=>y(this,i).call(this,r?r(e):e,t),validate:e=>{a?.(e),this.validate(r?r(e):e)}})}};n=new WeakMap,i=new WeakMap;let v=w,k=Symbol.for("@mysten/serialized-bcs");function O(e){return!!e&&"object"==typeof e&&!0===e[k]}class S{constructor(e,t){b(this,s),b(this,a),j(this,s,e),j(this,a,t)}get[k](){return!0}toBytes(){return y(this,a)}toHex(){return(0,o.n)(y(this,a))}toBase64(){return(0,l.n)(y(this,a))}toBase58(){return(0,u.g)(y(this,a))}parse(){return y(this,s).parse(y(this,a))}}function x({size:e,...t}){return new v({...t,serializedSize:()=>e})}function E({readMethod:e,writeMethod:t,...r}){return x({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function I({readMethod:e,writeMethod:t,...r}){return x({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{let t=BigInt(e);if(t<0||t>r.maxValue)throw TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}function T({serialize:e,...t}){let r=new v({...t,serialize:e,write:(e,t)=>{for(let n of r.serialize(e).toBytes())t.write8(n)}});return r}function C({toBytes:e,fromBytes:t,...r}){return new v({...r,read:e=>{let r=e.readULEB();return t(e.readBytes(r))},write:(t,r)=>{let n=e(t);r.writeULEB(n.length);for(let e=0;e<n.length;e++)r.write8(n[e])},serialize:t=>{let r=e(t),n=(0,c.h)(r.length),i=new Uint8Array(n.length+r.length);return i.set(n,0),i.set(r,n.length),i},validate:e=>{if("string"!=typeof e)throw TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}function M(e){let t=null;function r(){return t||(t=e()),t}return new v({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}s=new WeakMap,a=new WeakMap},6962:(e,t,r)=>{r.d(t,{j:()=>s});var n=r(5460),i=r(1214);let s={u8:e=>(0,n.jo)({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>(0,n.jo)({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>(0,n.jo)({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:0x100000000-1,...e}),u64:e=>(0,n.L2)({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>(0,n.L2)({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>(0,n.L2)({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>(0,n.u0)({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw TypeError(`Expected boolean, found ${typeof t}`)}}),uleb128:e=>(0,n.Jk)({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from((0,i.h)(e)),...e}),bytes:(e,t)=>(0,n.u0)({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{let n=new Uint8Array(t);for(let t=0;t<e;t++)r.write8(n[t]??0)},...t,validate:r=>{if(t?.validate?.(r),!r||"object"!=typeof r||!("length"in r))throw TypeError(`Expected array, found ${typeof r}`);if(r.length!==e)throw TypeError(`Expected array of length ${e}, found ${r.length}`)}}),byteVector:e=>new n.ju({name:"bytesVector",read:e=>{let t=e.readULEB();return e.readBytes(t)},write:(e,t)=>{let r=new Uint8Array(e);t.writeULEB(r.length);for(let e=0;e<r.length;e++)t.write8(r[e]??0)},...e,serializedSize:e=>{let t="length"in e?e.length:null;return null==t?null:(0,i.h)(t).length+t},validate:t=>{if(e?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw TypeError(`Expected array, found ${typeof t}`)}}),string:e=>(0,n.$b)({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...e}),fixedArray:(e,t,r)=>new n.ju({name:`${t.name}[${e}]`,read:r=>{let n=Array(e);for(let i=0;i<e;i++)n[i]=t.read(r);return n},write:(e,r)=>{for(let n of e)t.write(n,r)},...r,validate:t=>{if(r?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw TypeError(`Expected array, found ${typeof t}`);if(t.length!==e)throw TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>s.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"===e.$kind?e.Some:null}),vector:(e,t)=>new n.ju({name:`vector<${e.name}>`,read:t=>{let r=t.readULEB(),n=Array(r);for(let i=0;i<r;i++)n[i]=e.read(t);return n},write:(t,r)=>{for(let n of(r.writeULEB(t.length),t))e.write(n,r)},...t,validate:e=>{if(t?.validate?.(e),!e||"object"!=typeof e||!("length"in e))throw TypeError(`Expected array, found ${typeof e}`)}}),tuple:(e,t)=>new n.ju({name:`(${e.map(e=>e.name).join(", ")})`,serializedSize:t=>{let r=0;for(let n=0;n<e.length;n++){let i=e[n].serializedSize(t[n]);if(null==i)return null;r+=i}return r},read:t=>{let r=[];for(let n of e)r.push(n.read(t));return r},write:(t,r)=>{for(let n=0;n<e.length;n++)e[n].write(t[n],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw TypeError(`Expected array, found ${typeof r}`);if(r.length!==e.length)throw TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){let i=Object.entries(t);return new n.ju({name:e,serializedSize:e=>{let t=0;for(let[r,n]of i){let i=n.serializedSize(e[r]);if(null==i)return null;t+=i}return t},read:e=>{let t={};for(let[r,n]of i)t[r]=n.read(e);return t},write:(e,t)=>{for(let[r,n]of i)n.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw TypeError(`Expected object, found ${typeof e}`)}})},enum(e,t,r){let i=Object.entries(t);return new n.ju({name:e,read:t=>{let r=t.readULEB(),n=i[r];if(!n)throw TypeError(`Unknown value ${r} for enum ${e}`);let[s,a]=n;return{[s]:a?.read(t)??!0,$kind:s}},write:(e,r)=>{let[n,s]=Object.entries(e).filter(([e])=>Object.hasOwn(t,e))[0];for(let e=0;e<i.length;e++){let[t,a]=i[e];if(t===n){r.writeULEB(e),a?.write(s,r);return}}},...r,validate:n=>{if(r?.validate?.(n),"object"!=typeof n||null==n)throw TypeError(`Expected object, found ${typeof n}`);let i=Object.keys(n).filter(e=>void 0!==n[e]&&Object.hasOwn(t,e));if(1!==i.length)throw TypeError(`Expected object with one key, but found ${i.length} for type ${e}}`);let[s]=i;if(!Object.hasOwn(t,s))throw TypeError(`Invalid enum variant ${s}`)}})},map:(e,t)=>s.vector(s.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{let t=new Map;for(let[r,n]of e)t.set(r,n);return t}}),lazy:e=>(0,n.HD)(e)}},1214:(e,t,r)=>{function n(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}function i(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(127&i)<<r,(128&i)==0)break;r+=7}return{value:t,length:n}}r.d(t,{h:()=>n,j:()=>i})},1051:(e,t,r)=>{r.d(t,{U6:()=>a,sT:()=>o});var n=r(4356),i=r(241),s=r(6428);function a(e,t){switch(t){case"base58":return(0,n.g)(e);case"base64":return(0,i.n)(e);case"hex":return(0,s.n)(e);default:throw Error("Unsupported encoding, supported values are: base64, hex")}}function o(e,t=["<",">"]){let[r,n]=t,i=[],s="",a=0;for(let t=0;t<e.length;t++){let o=e[t];if(o===r&&a++,o===n&&a--,0===a&&","===o){i.push(s.trim()),s="";continue}s+=o}return i.push(s.trim()),i}},8956:(e,t,r)=>{r.d(t,{$R:()=>D,AK:()=>z,CN:()=>v,Cm:()=>p,FB:()=>f,Ft:()=>V,J3:()=>U,JD:()=>$,Jz:()=>j,LH:()=>k,Lk:()=>y,MD:()=>d,MS:()=>h,Ov:()=>E,P4:()=>A,VG:()=>C,Yj:()=>B,_e:()=>g,_p:()=>c,ef:()=>b,fn:()=>T,gq:()=>x,ko:()=>O,l0:()=>M,m4:()=>N,pV:()=>l,pl:()=>I,qQ:()=>_,uB:()=>w,uj:()=>P,wN:()=>S});var n=r(6962),i=r(6428),s=r(4356),a=r(241),o=r(4650),u=r(3852);let l=n.j.bytes(o.wn).transform({validate:e=>{let t="string"==typeof e?e:(0,i.n)(e);if(!t||!(0,o.AP)((0,o.t4)(t)))throw Error(`Invalid Sui address ${t}`)},input:e=>"string"==typeof e?(0,i.a)((0,o.t4)(e)):e,output:e=>(0,o.t4)((0,i.n)(e))}),c=n.j.vector(n.j.u8()).transform({name:"ObjectDigest",input:e=>(0,s.n)(e),output:e=>(0,s.g)(new Uint8Array(e)),validate:e=>{if(32!==(0,s.n)(e).length)throw Error("ObjectDigest must be 32 bytes")}}),d=n.j.struct("SuiObjectRef",{objectId:l,version:n.j.u64(),digest:c}),p=n.j.struct("SharedObjectRef",{objectId:l,initialSharedVersion:n.j.u64(),mutable:n.j.bool()}),h=n.j.enum("ObjectArg",{ImmOrOwnedObject:d,SharedObject:p,Receiving:d}),g=n.j.enum("Owner",{AddressOwner:l,ObjectOwner:l,Shared:n.j.struct("Shared",{initialSharedVersion:n.j.u64()}),Immutable:null,ConsensusV2:n.j.struct("ConsensusV2",{authenticator:n.j.enum("Authenticator",{SingleOwner:l}),startVersion:n.j.u64()})}),f=n.j.enum("CallArg",{Pure:n.j.struct("Pure",{bytes:n.j.vector(n.j.u8()).transform({input:e=>"string"==typeof e?(0,a.E)(e):e,output:e=>(0,a.n)(new Uint8Array(e))})}),Object:h}),m=n.j.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:n.j.lazy(()=>m),struct:n.j.lazy(()=>S),u16:null,u32:null,u256:null}),y=m.transform({input:e=>"string"==typeof e?u.r.parseFromStr(e,!0):e,output:e=>u.r.tagToString(e)}),b=n.j.enum("Argument",{GasCoin:null,Input:n.j.u16(),Result:n.j.u16(),NestedResult:n.j.tuple([n.j.u16(),n.j.u16()])}),j=n.j.struct("ProgrammableMoveCall",{package:l,module:n.j.string(),function:n.j.string(),typeArguments:n.j.vector(y),arguments:n.j.vector(b)}),w=n.j.enum("Command",{MoveCall:j,TransferObjects:n.j.struct("TransferObjects",{objects:n.j.vector(b),address:b}),SplitCoins:n.j.struct("SplitCoins",{coin:b,amounts:n.j.vector(b)}),MergeCoins:n.j.struct("MergeCoins",{destination:b,sources:n.j.vector(b)}),Publish:n.j.struct("Publish",{modules:n.j.vector(n.j.vector(n.j.u8()).transform({input:e=>"string"==typeof e?(0,a.E)(e):e,output:e=>(0,a.n)(new Uint8Array(e))})),dependencies:n.j.vector(l)}),MakeMoveVec:n.j.struct("MakeMoveVec",{type:n.j.enum("Option",{None:null,Some:y}).transform({input:e=>null===e?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:n.j.vector(b)}),Upgrade:n.j.struct("Upgrade",{modules:n.j.vector(n.j.vector(n.j.u8()).transform({input:e=>"string"==typeof e?(0,a.E)(e):e,output:e=>(0,a.n)(new Uint8Array(e))})),dependencies:n.j.vector(l),package:l,ticket:b})}),v=n.j.struct("ProgrammableTransaction",{inputs:n.j.vector(f),commands:n.j.vector(w)}),k=n.j.enum("TransactionKind",{ProgrammableTransaction:v,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),O=n.j.enum("TransactionExpiration",{None:null,Epoch:n.j.u64({name:"unsafe_u64"}).transform({input:e=>e,output:e=>Number(e)})}),S=n.j.struct("StructTag",{address:l,module:n.j.string(),name:n.j.string(),typeParams:n.j.vector(m)}),x=n.j.struct("GasData",{payment:n.j.vector(d),owner:l,price:n.j.u64(),budget:n.j.u64()}),E=n.j.struct("TransactionDataV1",{kind:k,sender:l,gasData:x,expiration:O}),I=n.j.enum("TransactionData",{V1:E}),T=n.j.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),C=n.j.enum("IntentVersion",{V0:null}),M=n.j.enum("AppId",{Sui:null}),$=n.j.struct("Intent",{scope:T,version:C,appId:M});function A(e){return n.j.struct(`IntentMessage<${e.name}>`,{intent:$,value:e})}let P=n.j.enum("CompressedSignature",{ED25519:n.j.fixedArray(64,n.j.u8()),Secp256k1:n.j.fixedArray(64,n.j.u8()),Secp256r1:n.j.fixedArray(64,n.j.u8()),ZkLogin:n.j.vector(n.j.u8())}),U=n.j.enum("PublicKey",{ED25519:n.j.fixedArray(32,n.j.u8()),Secp256k1:n.j.fixedArray(33,n.j.u8()),Secp256r1:n.j.fixedArray(33,n.j.u8()),ZkLogin:n.j.vector(n.j.u8())}),B=n.j.struct("MultiSigPkMap",{pubKey:U,weight:n.j.u8()}),D=n.j.struct("MultiSigPublicKey",{pk_map:n.j.vector(B),threshold:n.j.u16()}),V=n.j.struct("MultiSig",{sigs:n.j.vector(P),bitmap:n.j.u16(),multisig_pk:D}),R=n.j.vector(n.j.u8()).transform({input:e=>"string"==typeof e?(0,a.E)(e):e,output:e=>(0,a.n)(new Uint8Array(e))}),N=n.j.struct("SenderSignedTransaction",{intentMessage:A(I),txSignatures:n.j.vector(R)}),_=n.j.vector(N,{name:"SenderSignedData"}),z=n.j.struct("PasskeyAuthenticator",{authenticatorData:n.j.vector(n.j.u8()),clientDataJson:n.j.string(),userSignature:n.j.vector(n.j.u8())})},3066:(e,t,r)=>{r.d(t,{jy:()=>k});var n=r(6962),i=r(8956);let s=n.j.enum("PackageUpgradeError",{UnableToFetchPackage:n.j.struct("UnableToFetchPackage",{packageId:i.pV}),NotAPackage:n.j.struct("NotAPackage",{objectId:i.pV}),IncompatibleUpgrade:null,DigestDoesNotMatch:n.j.struct("DigestDoesNotMatch",{digest:n.j.vector(n.j.u8())}),UnknownUpgradePolicy:n.j.struct("UnknownUpgradePolicy",{policy:n.j.u8()}),PackageIDDoesNotMatch:n.j.struct("PackageIDDoesNotMatch",{packageId:i.pV,ticketId:i.pV})}),a=n.j.struct("ModuleId",{address:i.pV,name:n.j.string()}),o=n.j.struct("MoveLocation",{module:a,function:n.j.u16(),instruction:n.j.u16(),functionName:n.j.option(n.j.string())}),u=n.j.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:n.j.struct("IndexOutOfBounds",{idx:n.j.u16()}),SecondaryIndexOutOfBounds:n.j.struct("SecondaryIndexOutOfBounds",{resultIdx:n.j.u16(),secondaryIdx:n.j.u16()}),InvalidResultArity:n.j.struct("InvalidResultArity",{resultIdx:n.j.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),l=n.j.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),c=n.j.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:n.j.struct("MoveObjectTooBig",{objectSize:n.j.u64(),maxObjectSize:n.j.u64()}),MovePackageTooBig:n.j.struct("MovePackageTooBig",{objectSize:n.j.u64(),maxObjectSize:n.j.u64()}),CircularObjectOwnership:n.j.struct("CircularObjectOwnership",{object:i.pV}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:n.j.option(o),MoveAbort:n.j.tuple([o,n.j.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:n.j.struct("CommandArgumentError",{argIdx:n.j.u16(),kind:u}),TypeArgumentError:n.j.struct("TypeArgumentError",{argumentIdx:n.j.u16(),kind:l}),UnusedValueWithoutDrop:n.j.struct("UnusedValueWithoutDrop",{resultIdx:n.j.u16(),secondaryIdx:n.j.u16()}),InvalidPublicFunctionReturnType:n.j.struct("InvalidPublicFunctionReturnType",{idx:n.j.u16()}),InvalidTransferObject:null,EffectsTooLarge:n.j.struct("EffectsTooLarge",{currentSize:n.j.u64(),maxSize:n.j.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:n.j.struct("PackageUpgradeError",{upgradeError:s}),WrittenObjectsTooLarge:n.j.struct("WrittenObjectsTooLarge",{currentSize:n.j.u64(),maxSize:n.j.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:n.j.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:n.j.vector(i.pV)}),AddressDeniedForCoin:n.j.struct("AddressDeniedForCoin",{address:i.pV,coinType:n.j.string()}),CoinTypeGlobalPause:n.j.struct("CoinTypeGlobalPause",{coinType:n.j.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),d=n.j.enum("ExecutionStatus",{Success:null,Failed:n.j.struct("ExecutionFailed",{error:c,command:n.j.option(n.j.u64())})}),p=n.j.struct("GasCostSummary",{computationCost:n.j.u64(),storageCost:n.j.u64(),storageRebate:n.j.u64(),nonRefundableStorageFee:n.j.u64()}),h=n.j.struct("TransactionEffectsV1",{status:d,executedEpoch:n.j.u64(),gasUsed:p,modifiedAtVersions:n.j.vector(n.j.tuple([i.pV,n.j.u64()])),sharedObjects:n.j.vector(i.MD),transactionDigest:i._p,created:n.j.vector(n.j.tuple([i.MD,i._e])),mutated:n.j.vector(n.j.tuple([i.MD,i._e])),unwrapped:n.j.vector(n.j.tuple([i.MD,i._e])),deleted:n.j.vector(i.MD),unwrappedThenDeleted:n.j.vector(i.MD),wrapped:n.j.vector(i.MD),gasObject:n.j.tuple([i.MD,i._e]),eventsDigest:n.j.option(i._p),dependencies:n.j.vector(i._p)}),g=n.j.tuple([n.j.u64(),i._p]),f=n.j.enum("ObjectIn",{NotExist:null,Exist:n.j.tuple([g,i._e])}),m=n.j.enum("ObjectOut",{NotExist:null,ObjectWrite:n.j.tuple([i._p,i._e]),PackageWrite:g}),y=n.j.enum("IDOperation",{None:null,Created:null,Deleted:null}),b=n.j.struct("EffectsObjectChange",{inputState:f,outputState:m,idOperation:y}),j=n.j.enum("UnchangedSharedKind",{ReadOnlyRoot:g,MutateDeleted:n.j.u64(),ReadDeleted:n.j.u64(),Cancelled:n.j.u64(),PerEpochConfig:null}),w=n.j.struct("TransactionEffectsV2",{status:d,executedEpoch:n.j.u64(),gasUsed:p,transactionDigest:i._p,gasObjectIndex:n.j.option(n.j.u32()),eventsDigest:n.j.option(i._p),dependencies:n.j.vector(i._p),lamportVersion:n.j.u64(),changedObjects:n.j.vector(n.j.tuple([i.pV,b])),unchangedSharedObjects:n.j.vector(n.j.tuple([i.pV,j])),auxDataDigest:n.j.option(i._p)}),v=n.j.enum("TransactionEffects",{V1:h,V2:w}),k={...n.j,U8:n.j.u8(),U16:n.j.u16(),U32:n.j.u32(),U64:n.j.u64(),U128:n.j.u128(),U256:n.j.u256(),ULEB128:n.j.uleb128(),Bool:n.j.bool(),String:n.j.string(),Address:i.pV,AppId:i.l0,Argument:i.ef,CallArg:i.FB,Command:i.uB,CompressedSignature:i.uj,GasData:i.gq,Intent:i.JD,IntentMessage:i.P4,IntentScope:i.fn,IntentVersion:i.VG,MultiSig:i.Ft,MultiSigPkMap:i.Yj,MultiSigPublicKey:i.$R,ObjectArg:i.MS,ObjectDigest:i._p,Owner:i._e,PasskeyAuthenticator:i.AK,ProgrammableMoveCall:i.Jz,ProgrammableTransaction:i.CN,PublicKey:i.J3,SenderSignedData:i.qQ,SenderSignedTransaction:i.m4,SharedObjectRef:i.Cm,StructTag:i.wN,SuiObjectRef:i.MD,TransactionData:i.pl,TransactionDataV1:i.Ov,TransactionEffects:v,TransactionExpiration:i.ko,TransactionKind:i.LH,TypeTag:i.Lk}},3852:(e,t,r)=>{r.d(t,{r:()=>o});var n=r(1051),i=r(4650);let s=/^vector<(.+)>$/,a=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class o{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};else if("u256"===e)return{u256:null};else if("signer"===e)return{signer:null};let r=e.match(s);if(r)return{vector:o.parseFromStr(r[1],t)};let n=e.match(a);if(n)return{struct:{address:t?(0,i.t4)(n[1]):n[1],module:n[2],name:n[3],typeParams:void 0===n[5]?[]:o.parseStructTypeArgs(n[5],t)}};throw Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return(0,n.sT)(e).map(e=>o.parseFromStr(e,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${o.tagToString(e.vector)}>`;if("struct"in e){let t=e.struct,r=t.typeParams.map(o.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw Error("Invalid TypeTag")}}},1895:(e,t,r)=>{r.d(t,{x:()=>eb});var n,i,s,a,o,u,l,c,d,p,h,g,f,m,y,b,j,w=r(241),v=r(4356),k=r(6428),O=e=>{throw TypeError(e)},S=(e,t,r)=>t.has(e)||O("Cannot "+r),x=(e,t,r)=>(S(e,t,"read from private field"),r?r.call(e):t.get(e)),E=(e,t,r)=>t.has(e)?O("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),I=(e,t,r,n)=>(S(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);let T=class e{constructor({prefix:e,cache:t}={}){E(this,n),E(this,i),I(this,n,e??[]),I(this,i,t??new Map)}read(e,t){let r=[x(this,n),...e].join(":");if(x(this,i).has(r))return x(this,i).get(r);let s=t();return(x(this,i).set(r,s),"object"==typeof s&&null!==s&&"then"in s)?Promise.resolve(s).then(e=>(x(this,i).set(r,e),e)).catch(e=>{throw x(this,i).delete(r),e}):s}clear(e){let t=[...x(this,n),...e??[]].join(":");if(!t){x(this,i).clear();return}for(let e of x(this,i).keys())e.startsWith(t)&&x(this,i).delete(e)}scope(t){return new e({prefix:[...x(this,n),...Array.isArray(t)?t:[t]],cache:x(this,i)})}};n=new WeakMap,i=new WeakMap;class C{constructor({network:e}){this.cache=new T,this.network=e}$extend(...e){return Object.create(this,Object.fromEntries(e.map(e=>{if("experimental_asClientExtension"in e){let{name:t,register:r}=e.experimental_asClientExtension();return[t,{value:r(this)}]}return[e.name,{value:e.register(this)}]})))}}var M=r(3066),$=r(7302),A=r(4650),P=r(3852),U=r(5488);class B extends C{constructor(){super(...arguments),this.core=this}async getObject(e){let{objectId:t}=e,{objects:[r]}=await this.getObjects({objectIds:[t],signal:e.signal});if(r instanceof Error)throw r;return{object:r}}async getDynamicField(e){let t=function(e,t,r){let n=M.jy.Address.serialize(e).toBytes(),i=M.jy.TypeTag.serialize(t).toBytes(),s=M.jy.u64().serialize(r.length).toBytes(),a=U.S.create({dkLen:32});return a.update(new Uint8Array([240])),a.update(n),a.update(s),a.update(r),a.update(i),`0x${(0,k.n)(a.digest().slice(0,32))}`}(e.parentId,P.r.parseFromStr(e.name.type),e.name.bcs),{objects:[r]}=await this.getObjects({objectIds:[t],signal:e.signal});if(r instanceof Error)throw r;let n=(0,A.hp)(r.type);return{dynamicField:{id:r.id,digest:r.digest,version:r.version,type:r.type,name:{type:"string"==typeof n.typeParams[0]?n.typeParams[0]:(0,A.X)(n.typeParams[0]),bcs:e.name.bcs},value:{type:"string"==typeof n.typeParams[1]?n.typeParams[1]:(0,A.X)(n.typeParams[1]),bcs:r.content.slice(A.wn+e.name.bcs.length)}}}}async waitForTransaction({signal:e,timeout:t=6e4,...r}){let n=e?AbortSignal.any([AbortSignal.timeout(t),e]):AbortSignal.timeout(t),i=new Promise((e,t)=>{n.addEventListener("abort",()=>t(n.reason))});for(i.catch(()=>{});;){n.throwIfAborted();try{return await this.getTransaction({...r,signal:n})}catch(e){await Promise.race([new Promise(e=>setTimeout(e,2e3)),i])}}}}class D extends Error{}class V extends D{constructor(e,t){super(t),this.code=e}static fromResponse(e,t){switch(e.code){case"notExists":return new V(e.code,`Object ${e.object_id} does not exist`);case"dynamicFieldNotFound":return new V(e.code,`Dynamic field not found for object ${e.parent_object_id}`);case"deleted":return new V(e.code,`Object ${e.object_id} has been deleted`);case"displayError":return new V(e.code,`Display error: ${e.error}`);default:return new V(e.code,`Unknown error while loading object${t?` ${t}`:""}`)}}}var R=e=>{throw TypeError(e)},N=(e,t,r)=>t.has(e)||R("Cannot "+r),_=(e,t,r)=>(N(e,t,"read from private field"),r?r.call(e):t.get(e)),z=(e,t,r)=>t.has(e)?R("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),q=(e,t,r,n)=>(N(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class L extends B{constructor(e){super({network:e.network}),z(this,s),q(this,s,e)}async getObjects(e){let t=function(e,t){let r=[];for(let t=0;t<e.length;t+=50)r.push(e.slice(t,t+50));return r}(e.objectIds,0),r=[];for(let n of t)for(let[t,i]of(await _(this,s).multiGetObjects({ids:n,options:{showOwner:!0,showType:!0,showBcs:!0},signal:e.signal})).entries())i.error?r.push(V.fromResponse(i.error,n[t])):r.push(W(i.data));return{objects:r}}async getOwnedObjects(e){let t=await _(this,s).getOwnedObjects({owner:e.address,limit:e.limit,cursor:e.cursor,options:{showOwner:!0,showType:!0,showBcs:!0},signal:e.signal});return{objects:t.data.map(e=>{if(e.error)throw V.fromResponse(e.error);return W(e.data)}),hasNextPage:t.hasNextPage,cursor:t.nextCursor??null}}async getCoins(e){let t=await _(this,s).getCoins({owner:e.address,coinType:e.coinType,limit:e.limit,cursor:e.cursor,signal:e.signal});return{objects:t.data.map(t=>({id:t.coinObjectId,version:t.version,digest:t.digest,balance:t.balance,type:`0x2::coin::Coin<${t.coinType}>`,content:K.serialize({id:t.coinObjectId,balance:{value:t.balance}}).toBytes(),owner:{$kind:"ObjectOwner",ObjectOwner:e.address}})),hasNextPage:t.hasNextPage,cursor:t.nextCursor??null}}async getBalance(e){let t=await _(this,s).getBalance({owner:e.address,coinType:e.coinType,signal:e.signal});return{balance:{coinType:t.coinType,balance:t.totalBalance}}}async getAllBalances(e){return{balances:(await _(this,s).getAllBalances({owner:e.address,signal:e.signal})).map(e=>({coinType:e.coinType,balance:e.totalBalance})),hasNextPage:!1,cursor:null}}async getTransaction(e){return{transaction:G(await _(this,s).getTransactionBlock({digest:e.digest,options:{showRawInput:!0,showObjectChanges:!0,showRawEffects:!0,showEvents:!0},signal:e.signal}))}}async executeTransaction(e){return{transaction:G(await _(this,s).executeTransactionBlock({transactionBlock:e.transaction,signature:e.signatures,options:{showRawEffects:!0,showEvents:!0,showObjectChanges:!0,showRawInput:!0},signal:e.signal}))}}async dryRunTransaction(e){let t=$.Z.from(e.transaction),r=await _(this,s).dryRunTransactionBlock({transactionBlock:e.transaction,signal:e.signal});return{transaction:{digest:await t.getDigest(),effects:function({bytes:e,effects:t,epoch:r,objectChanges:n}){let i=[];return n?.forEach(e=>{switch(e.type){case"published":i.push({id:e.packageId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"PackageWrite",outputVersion:e.version,outputDigest:e.digest,outputOwner:null,idOperation:"Created",objectType:null});break;case"transferred":i.push({id:e.objectId,inputState:"Exists",inputVersion:e.version,inputDigest:e.digest,inputOwner:{$kind:"AddressOwner",AddressOwner:e.sender},outputState:"ObjectWrite",outputVersion:e.version,outputDigest:e.digest,outputOwner:F(e.recipient),idOperation:"None",objectType:e.objectType});break;case"mutated":i.push({id:e.objectId,inputState:"Exists",inputVersion:e.previousVersion,inputDigest:null,inputOwner:F(e.owner),outputState:"ObjectWrite",outputVersion:e.version,outputDigest:e.digest,outputOwner:F(e.owner),idOperation:"None",objectType:e.objectType});break;case"deleted":i.push({id:e.objectId,inputState:"Exists",inputVersion:e.version,inputDigest:t.deleted?.find(t=>t.objectId===e.objectId)?.digest??null,inputOwner:null,outputState:"DoesNotExist",outputVersion:null,outputDigest:null,outputOwner:null,idOperation:"Deleted",objectType:e.objectType});break;case"wrapped":i.push({id:e.objectId,inputState:"Exists",inputVersion:e.version,inputDigest:null,inputOwner:{$kind:"AddressOwner",AddressOwner:e.sender},outputState:"ObjectWrite",outputVersion:e.version,outputDigest:t.wrapped?.find(t=>t.objectId===e.objectId)?.digest??null,outputOwner:{$kind:"ObjectOwner",ObjectOwner:e.sender},idOperation:"None",objectType:e.objectType});break;case"created":i.push({id:e.objectId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:e.version,outputDigest:e.digest,outputOwner:F(e.owner),idOperation:"Created",objectType:e.objectType})}}),{bcs:e??null,digest:t.transactionDigest,version:2,status:"success"===t.status.status?{success:!0,error:null}:{success:!1,error:t.status.error},epoch:r??null,gasUsed:t.gasUsed,transactionDigest:t.transactionDigest,gasObject:{id:t.gasObject?.reference.objectId,inputState:"Exists",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:t.gasObject.reference.version,outputDigest:t.gasObject.reference.digest,outputOwner:F(t.gasObject.owner),idOperation:"None",objectType:(0,A.X)("0x2::coin::Coin<0x2::sui::SUI>")},eventsDigest:t.eventsDigest??null,dependencies:t.dependencies??[],lamportVersion:t.gasObject.reference.version,changedObjects:i,unchangedSharedObjects:[],auxiliaryDataDigest:null}}({effects:r.effects,objectChanges:r.objectChanges}),signatures:[],bcs:e.transaction}}}async getReferenceGasPrice(e){return{referenceGasPrice:String(await _(this,s).getReferenceGasPrice({signal:e?.signal}))}}async getDynamicFields(e){let t=await _(this,s).getDynamicFields({parentId:e.parentId,limit:e.limit,cursor:e.cursor});return{dynamicFields:t.data.map(e=>({id:e.objectId,type:e.objectType,name:{type:e.name.type,bcs:(0,w.E)(e.bcsName)}})),hasNextPage:t.hasNextPage,cursor:t.nextCursor}}async verifyZkLoginSignature(e){let t=await _(this,s).verifyZkLoginSignature({bytes:e.bytes,signature:e.signature,intentScope:e.intentScope,author:e.author});return{success:t.success,errors:t.errors}}}function W(e){return{id:e.objectId,version:e.version,digest:e.digest,type:e.type,content:e.bcs?.dataType==="moveObject"?(0,w.E)(e.bcs.bcsBytes):new Uint8Array,owner:F(e.owner)}}function F(e){if("Immutable"===e)return{$kind:"Immutable",Immutable:!0};if("ConsensusV2"in e)return{$kind:"ConsensusV2",ConsensusV2:{authenticator:{$kind:"SingleOwner",SingleOwner:e.ConsensusV2.authenticator.SingleOwner},startVersion:e.ConsensusV2.start_version}};if("AddressOwner"in e)return{$kind:"AddressOwner",AddressOwner:e.AddressOwner};if("ObjectOwner"in e)return{$kind:"ObjectOwner",ObjectOwner:e.ObjectOwner};if("Shared"in e)return{$kind:"Shared",Shared:{initialSharedVersion:e.Shared.initial_shared_version}};throw Error(`Unknown owner type: ${JSON.stringify(e)}`)}function G(e){let t=M.jy.SenderSignedData.parse((0,w.E)(e.rawTransaction))[0],r={};return e.objectChanges?.forEach(e=>{"published"!==e.type&&(r[e.objectId]=e.objectType)}),{digest:e.digest,effects:function({effects:e,epoch:t,objectTypes:r}){let n=M.jy.TransactionEffects.parse(e);switch(n.$kind){case"V1":return function(e){throw Error("V1 effects are not supported yet")}(n.V1);case"V2":return function({bytes:e,effects:t,epoch:r,objectTypes:n}){let i=t.changedObjects.map(([e,r])=>({id:e,inputState:"Exist"===r.inputState.$kind?"Exists":"DoesNotExist",inputVersion:r.inputState.Exist?.[0][0]??null,inputDigest:r.inputState.Exist?.[0][1]??null,inputOwner:r.inputState.Exist?.[1]??null,outputState:"NotExist"===r.outputState.$kind?"DoesNotExist":r.outputState.$kind,outputVersion:"PackageWrite"===r.outputState.$kind?r.outputState.PackageWrite?.[0]:r.outputState.ObjectWrite?t.lamportVersion:null,outputDigest:"PackageWrite"===r.outputState.$kind?r.outputState.PackageWrite?.[1]:r.outputState.ObjectWrite?.[0]??null,outputOwner:r.outputState.ObjectWrite?r.outputState.ObjectWrite[1]:null,idOperation:r.idOperation.$kind,objectType:n[e]??null}));return{bcs:e,digest:t.transactionDigest,version:2,status:"Success"===t.status.$kind?{success:!0,error:null}:{success:!1,error:t.status.Failed.error.$kind},epoch:r??null,gasUsed:t.gasUsed,transactionDigest:t.transactionDigest,gasObject:null===t.gasObjectIndex?null:i[t.gasObjectIndex]??null,eventsDigest:t.eventsDigest,dependencies:t.dependencies,lamportVersion:t.lamportVersion,changedObjects:i,unchangedSharedObjects:t.unchangedSharedObjects.map(([e,t])=>({kind:t.$kind,objectId:e,version:"ReadOnlyRoot"===t.$kind?t.ReadOnlyRoot[0]:t[t.$kind],digest:"ReadOnlyRoot"===t.$kind?t.ReadOnlyRoot[1]:null,objectType:n[e]??null})),auxiliaryDataDigest:t.auxDataDigest}}({bytes:e,effects:n.V2,epoch:t,objectTypes:r});default:throw Error(`Unknown transaction effects version: ${n.$kind}`)}}({effects:new Uint8Array(e.rawEffects),objectTypes:r}),bcs:M.jy.TransactionData.serialize(t.intentMessage.value).toBytes(),signatures:t.txSignatures}}s=new WeakMap;let J=M.jy.struct("Balance",{value:M.jy.u64()}),K=M.jy.struct("Coin",{id:M.jy.Address,balance:J});var H=r(801);let Z={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class X extends Error{}class Y extends X{constructor(e,t){super(e),this.code=t,this.type=Z[t]??"ServerError"}}class Q extends X{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}var ee=e=>{throw TypeError(e)},et=(e,t,r)=>t.has(e)||ee("Cannot "+r),er=(e,t,r)=>(et(e,t,"read from private field"),r?r.call(e):t.get(e)),en=(e,t,r)=>t.has(e)?ee("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ei=(e,t,r,n)=>(et(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),es=(e,t,r)=>(et(e,t,"access private method"),r),ea=(e,t,r,n)=>({set _(value){ei(e,t,value,r)},get _(){return er(e,t,n)}});let eo={WebSocketConstructor:"undefined"!=typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class eu{constructor(e,t={}){if(en(this,p),en(this,a,0),en(this,o,0),en(this,u,null),en(this,l,null),en(this,c,new Set),en(this,d,new Map),this.endpoint=e,this.options={...eo,...t},!this.options.WebSocketConstructor)throw Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){let t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t,r){let n=await es(this,p,h).call(this);return new Promise((i,s)=>{ei(this,a,er(this,a)+1),er(this,d).set(er(this,a),{resolve:i,reject:s,timeout:setTimeout(()=>{er(this,d).delete(er(this,a)),s(Error(`Request timeout: ${e}`))},this.options.callTimeout)}),r?.addEventListener("abort",()=>{er(this,d).delete(er(this,a)),s(r.reason)}),n.send(JSON.stringify({jsonrpc:"2.0",id:er(this,a),method:e,params:t}))}).then(({error:e,result:t})=>{if(e)throw new Y(e.message,e.code);return t})}async subscribe(e){let t=new el(e);return er(this,c).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}a=new WeakMap,o=new WeakMap,u=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakSet,h=function(){return er(this,l)||ei(this,l,new Promise(e=>{er(this,u)?.close(),ei(this,u,new this.options.WebSocketConstructor(this.endpoint)),er(this,u).addEventListener("open",()=>{ei(this,o,0),e(er(this,u))}),er(this,u).addEventListener("close",()=>{ea(this,o)._++,er(this,o)<=this.options.maxReconnects&&setTimeout(()=>{es(this,p,g).call(this)},this.options.reconnectTimeout)}),er(this,u).addEventListener("message",({data:e})=>{let t;try{t=JSON.parse(e)}catch(t){console.error(Error(`Failed to parse RPC message: ${e}`,{cause:t}));return}if("id"in t&&null!=t.id&&er(this,d).has(t.id)){let{resolve:e,timeout:r}=er(this,d).get(t.id);clearTimeout(r),e(t)}else if("params"in t){let{params:e}=t;er(this,c).forEach(t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)})}})})),er(this,l)},g=async function(){return er(this,u)?.close(),ei(this,l,null),Promise.allSettled([...er(this,c)].map(e=>e.subscribe(this)))};class el{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){let{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;let t=await e.makeRequest(this.input.method,this.input.params,this.input.signal);this.subscribed&&(this.subscriptionId=t)}}var ec=e=>{throw TypeError(e)},ed=(e,t,r)=>t.has(e)||ec("Cannot "+r),ep=(e,t,r)=>(ed(e,t,"read from private field"),r?r.call(e):t.get(e)),eh=(e,t,r)=>t.has(e)?ec("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),eg=(e,t,r,n)=>(ed(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ef=(e,t,r)=>(ed(e,t,"access private method"),r);class em{constructor(e){eh(this,b),eh(this,f,0),eh(this,m),eh(this,y),eg(this,m,e)}fetch(e,t){let r=ep(this,m).fetch??fetch;if(!r)throw Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){eg(this,f,ep(this,f)+1);let t=await this.fetch(ep(this,m).rpc?.url??ep(this,m).url,{method:"POST",signal:e.signal,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"1.29.1","Client-Target-Api-Version":"1.49.0","Client-Request-Method":e.method,...ep(this,m).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:ep(this,f),method:e.method,params:e.params})});if(!t.ok)throw new Q(`Unexpected status code: ${t.status}`,t.status,t.statusText);let r=await t.json();if("error"in r&&null!=r.error)throw new Y(r.error.message,r.error.code);return r.result}async subscribe(e){let t=await ef(this,b,j).call(this).subscribe(e);return e.signal&&(e.signal.throwIfAborted(),e.signal.addEventListener("abort",()=>{t()})),async()=>!!await t()}}f=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakSet,j=function(){if(!ep(this,y)){let e=ep(this,m).WebSocketConstructor??WebSocket;if(!e)throw Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");eg(this,y,new eu(ep(this,m).websocket?.url??ep(this,m).url,{WebSocketConstructor:e,...ep(this,m).websocket}))}return ep(this,y)};let ey=Symbol.for("@mysten/SuiClient");class eb extends C{constructor(e){super({network:e.network??"unknown"}),this.core=new L(this),this.jsonRpc=this,this.transport=e.transport??new em({url:e.url})}get[ey](){return!0}async getRpcApiVersion({signal:e}={}){return(await this.transport.request({method:"rpc.discover",params:[],signal:e})).info.version}async getCoins(e){if(!e.owner||!(0,A.AP)((0,A.t4)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit],signal:e.signal})}async getAllCoins(e){if(!e.owner||!(0,A.AP)((0,A.t4)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit],signal:e.signal})}async getBalance(e){if(!e.owner||!(0,A.AP)((0,A.t4)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType],signal:e.signal})}async getAllBalances(e){if(!e.owner||!(0,A.AP)((0,A.t4)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner],signal:e.signal})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType],signal:e.signal})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType],signal:e.signal})}async call(e,t,{signal:r}={}){return await this.transport.request({method:e,params:t,signal:r})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function],signal:e.signal})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package],signal:e.signal})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module],signal:e.signal})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function],signal:e.signal})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct],signal:e.signal})}async getOwnedObjects(e){if(!e.owner||!(0,A.AP)((0,A.t4)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit],signal:e.signal})}async getObject(e){if(!e.id||!(0,A.qD)((0,A.fN)(e.id)))throw Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options],signal:e.signal})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options],signal:e.signal})}async multiGetObjects(e){if(e.ids.forEach(e=>{if(!e||!(0,A.qD)((0,A.fN)(e)))throw Error(`Invalid Sui Object id ${e}`)}),e.ids.length!==new Set(e.ids).size)throw Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options],signal:e.signal})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")],signal:e.signal})}async getTransactionBlock(e){if(!(0,A.n4)(e.digest))throw Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options],signal:e.signal})}async multiGetTransactionBlocks(e){if(e.digests.forEach(e=>{if(!(0,A.n4)(e))throw Error(`Invalid Transaction digest ${e}`)}),e.digests.length!==new Set(e.digests).size)throw Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options],signal:e.signal})}async executeTransactionBlock({transactionBlock:e,signature:t,options:r,requestType:n,signal:i}){let s=await this.transport.request({method:"sui_executeTransactionBlock",params:["string"==typeof e?e:(0,w.n)(e),Array.isArray(t)?t:[t],r],signal:i});if("WaitForLocalExecution"===n)try{await this.waitForTransaction({digest:s.digest})}catch(e){}return s}async signAndExecuteTransaction({transaction:e,signer:t,...r}){let n;e instanceof Uint8Array?n=e:(e.setSenderIfNotSet(t.toSuiAddress()),n=await e.build({client:this}));let{signature:i,bytes:s}=await t.signTransaction(n);return this.executeTransactionBlock({transactionBlock:s,signature:i,...r})}async getTotalTransactionBlocks({signal:e}={}){return BigInt(await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[],signal:e}))}async getReferenceGasPrice({signal:e}={}){return BigInt(await this.transport.request({method:"suix_getReferenceGasPrice",params:[],signal:e}))}async getStakes(e){if(!e.owner||!(0,A.AP)((0,A.t4)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner],signal:e.signal})}async getStakesByIds(e){return e.stakedSuiIds.forEach(e=>{if(!e||!(0,A.qD)((0,A.fN)(e)))throw Error(`Invalid Sui Stake id ${e}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds],signal:e.signal})}async getLatestSuiSystemState({signal:e}={}){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[],signal:e})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")],signal:e.signal})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage,signal:e.signal})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage,signal:e.signal})}async devInspectTransactionBlock(e){let t;if((0,$.b)(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=(0,w.n)(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)t=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)t=(0,w.n)(e.transactionBlock);else throw Error("Unknown transaction block format.");return e.signal?.throwIfAborted(),await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch],signal:e.signal})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:(0,w.n)(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!(0,A.qD)((0,A.fN)(e.parentId)))throw Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit],signal:e.signal})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name],signal:e.signal})}async getLatestCheckpointSequenceNumber({signal:e}={}){return String(await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[],signal:e}))}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id],signal:e.signal})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder],signal:e.signal})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch],signal:e?.signal})}async getNetworkMetrics({signal:e}={}){return await this.transport.request({method:"suix_getNetworkMetrics",params:[],signal:e})}async getAddressMetrics({signal:e}={}){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[],signal:e})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder],signal:e?.signal})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder],signal:e?.signal})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder],signal:e?.signal})}async getMoveCallMetrics({signal:e}={}){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[],signal:e})}async getCurrentEpoch({signal:e}={}){return await this.transport.request({method:"suix_getCurrentEpoch",params:[],signal:e})}async getValidatorsApy({signal:e}={}){return await this.transport.request({method:"suix_getValidatorsApy",params:[],signal:e})}async getChainIdentifier({signal:e}={}){let t=await this.getCheckpoint({id:"0",signal:e}),r=(0,v.n)(t.digest);return(0,k.n)(r.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name],signal:e.signal})}async resolveNameServiceNames({format:e="dot",...t}){let{nextCursor:r,hasNextPage:n,data:i}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[t.address,t.cursor,t.limit],signal:t.signal});return{hasNextPage:n,nextCursor:r,data:i.map(t=>(0,H.n)(t,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version],signal:e?.signal})}async verifyZkLoginSignature(e){return await this.transport.request({method:"sui_verifyZkLoginSignature",params:[e.bytes,e.signature,e.intentScope,e.author],signal:e.signal})}async waitForTransaction({signal:e,timeout:t=6e4,pollInterval:r=2e3,...n}){let i=AbortSignal.timeout(t),s=new Promise((e,t)=>{i.addEventListener("abort",()=>t(i.reason))});for(s.catch(()=>{});!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(n)}catch(e){await Promise.race([new Promise(e=>setTimeout(e,r)),s])}}throw i.throwIfAborted(),Error("Unexpected error while waiting for transaction block.")}experimental_asClientExtension(){return{name:"jsonRPC",register:()=>this}}}},7302:(e,t,r)=>{r.d(t,{Z:()=>tO,b:()=>tb});var n,i,s,a,o,u,l,c,d,p,h,g,f,m,y,b,j,w,v,k,O,S,x,E=r(241),I=r(5460);function T(e){let t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function C(e,t,r,n,o){var u,l,c,d;let p=o&&"input"in o?o.input:r.value,h=o?.expected??e.expects??null,g=o?.received??T(p),f={kind:e.kind,type:e.type,input:p,expected:h,received:g,message:`Invalid ${t}: ${h?`Expected ${h} but r`:"R"}eceived ${g}`,requirement:e.requirement,path:o?.path,issues:o?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},m="schema"===e.kind,y=o?.message??e.message??(u=e.reference,l=f.lang,a?.get(u)?.get(l))??(m?(c=f.lang,s?.get(c)):null)??n.message??(d=f.lang,i?.get(d));y&&(f.message="function"==typeof y?y(f):y),m&&(r.typed=!1),r.issues?r.issues.push(f):r.issues=[f]}var M=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function $(e,t){return{kind:"validation",type:"check",reference:$,async:!1,expects:null,requirement:e,message:t,_run(e,t){return e.typed&&!this.requirement(e.value)&&C(this,"input",e,t),e}}}function A(e){return{kind:"validation",type:"integer",reference:A,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&C(this,"integer",e,t),e}}}function P(e){return{kind:"transformation",type:"transform",reference:P,async:!1,operation:e,_run(e){return e.value=this.operation(e.value),e}}}function U(e,t,r){return"function"==typeof e.fallback?e.fallback(t,r):e.fallback}function B(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function D(e){if("entries"in e){let t={};for(let r in e.entries)t[r]=D(e.entries[r]);return t}return"items"in e?e.items.map(D):B(e)}async function V(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([e,t])=>[e,await V(t)]))):"items"in e?Promise.all(e.items.map(V)):B(e)}function R(e){if("entries"in e){let t={};for(let r in e.entries)t[r]=R(e.entries[r]);return t}return"items"in e?e.items.map(R):U(e)}async function N(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([e,t])=>[e,await N(t)]))):"items"in e?Promise.all(e.items.map(N)):U(e)}function _(e,t){return!e._run({typed:!1,value:t},{abortEarly:!0}).issues}function z(e,t){return{kind:"schema",type:"array",reference:z,expects:"Array",async:!1,item:e,message:t,_run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<r.length;n++){let i=r[n],s=this.item._run({typed:!1,value:i},t);if(s.issues){let a={type:"array",origin:"value",input:r,key:n,value:i};for(let t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else C(this,"type",e,t);return e}}}function q(e){return{kind:"schema",type:"bigint",reference:q,expects:"bigint",async:!1,message:e,_run(e,t){return"bigint"==typeof e.value?e.typed=!0:C(this,"type",e,t),e}}}function L(e){return{kind:"schema",type:"boolean",reference:L,expects:"boolean",async:!1,message:e,_run(e,t){return"boolean"==typeof e.value?e.typed=!0:C(this,"type",e,t),e}}}function W(e){return{kind:"schema",type:"lazy",reference:W,expects:"unknown",async:!1,getter:e,_run(e,t){return this.getter(e.value)._run(e,t)}}}function F(e,t){return{kind:"schema",type:"literal",reference:F,expects:T(e),async:!1,literal:e,message:t,_run(e,t){return e.value===this.literal?e.typed=!0:C(this,"type",e,t),e}}}function G(e,...t){let r={kind:"schema",type:"nullable",reference:G,expects:`${e.expects} | null`,async:!1,wrapped:e,_run(e,t){return null===e.value&&("default"in this&&(e.value=B(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function J(e,...t){let r={kind:"schema",type:"nullish",reference:J,expects:`${e.expects} | null | undefined`,async:!1,wrapped:e,_run(e,t){return(null===e.value||void 0===e.value)&&("default"in this&&(e.value=B(this,e,t)),null===e.value||void 0===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function K(e){return{kind:"schema",type:"number",reference:K,expects:"number",async:!1,message:e,_run(e,t){return"number"!=typeof e.value||isNaN(e.value)?C(this,"type",e,t):e.typed=!0,e}}}function H(e,t){return{kind:"schema",type:"object",reference:H,expects:"Object",async:!1,entries:e,message:t,_run(e,t){let r=e.value;if(r&&"object"==typeof r)for(let n in e.typed=!0,e.value={},this.entries){let i=r[n],s=this.entries[n]._run({typed:!1,value:i},t);if(s.issues){let a={type:"object",origin:"value",input:r,key:n,value:i};for(let t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),(void 0!==s.value||n in r)&&(e.value[n]=s.value)}else C(this,"type",e,t);return e}}}function Z(e,...t){let r={kind:"schema",type:"optional",reference:Z,expects:`${e.expects} | undefined`,async:!1,wrapped:e,_run(e,t){return void 0===e.value&&("default"in this&&(e.value=B(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function X(e,t,r){return{kind:"schema",type:"record",reference:X,expects:"Object",async:!1,key:e,value:t,message:r,_run(e,t){let r=e.value;if(r&&"object"==typeof r){for(let n in e.typed=!0,e.value={},r)if(Object.hasOwn(r,n)&&"__proto__"!==n&&"prototype"!==n&&"constructor"!==n){let i=r[n],s=this.key._run({typed:!1,value:n},t);if(s.issues){let a={type:"object",origin:"key",input:r,key:n,value:i};for(let t of s.issues)t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}let a=this.value._run({typed:!1,value:i},t);if(a.issues){let s={type:"object",origin:"value",input:r,key:n,value:i};for(let t of a.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}s.typed&&a.typed||(e.typed=!1),s.typed&&(e.value[s.value]=a.value)}}else C(this,"type",e,t);return e}}}function Y(e){return{kind:"schema",type:"string",reference:Y,expects:"string",async:!1,message:e,_run(e,t){return"string"==typeof e.value?e.typed=!0:C(this,"type",e,t),e}}}function Q(e,t){return{kind:"schema",type:"tuple",reference:Q,expects:"Array",async:!1,items:e,message:t,_run(e,t){let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<this.items.length;n++){let i=r[n],s=this.items[n]._run({typed:!1,value:i},t);if(s.issues){let a={type:"array",origin:"value",input:r,key:n,value:i};for(let t of s.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else C(this,"type",e,t);return e}}}function ee(e){let t;if(e)for(let r of e)t?t.push(...r.issues):t=r.issues;return t}function et(e,t){return{kind:"schema",type:"union",reference:et,expects:[...new Set(e.map(e=>e.expects))].join(" | ")||"never",async:!1,options:e,message:t,_run(e,t){let r,n,i;for(let s of this.options){let a=s._run({typed:!1,value:e.value},t);if(a.typed){if(a.issues)n?n.push(a):n=[a];else{r=a;break}}else i?i.push(a):i=[a]}if(r)return r;if(n){if(1===n.length)return n[0];C(this,"type",e,t,{issues:ee(n)}),e.typed=!0}else{if(i?.length===1)return i[0];C(this,"type",e,t,{issues:ee(i)})}return e}}}function er(){return{kind:"schema",type:"unknown",reference:er,expects:"unknown",async:!1,_run:e=>(e.typed=!0,e)}}function en(e,t,r){var i;let s=e._run({typed:!1,value:t},(i=r,{lang:i?.lang??n?.lang,message:i?.message,abortEarly:i?.abortEarly??n?.abortEarly,abortPipeEarly:i?.abortPipeEarly??n?.abortPipeEarly}));if(s.issues)throw new M(s.issues);return s.value}function ei(...e){return{...e[0],pipe:e,_run(t,r){for(let n=0;n<e.length;n++){if(t.issues&&("schema"===e[n].kind||"transformation"===e[n].kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=e[n]._run(t,r))}return t}}}var es=r(4650);function ea(e){return ei(et(Object.entries(e).map(([e,t])=>H({[e]:t}))),P(e=>({...e,$kind:Object.keys(e)[0]})))}let eo=ei(Y(),P(e=>(0,es.t4)(e)),$(es.AP)),eu=Y(),el=ei(et([Y(),ei(K(),A())]),$(e=>{try{return BigInt(e),BigInt(e)>=0&&0xffffffffffffffffn>=BigInt(e)}catch{return!1}},"Invalid u64")),ec=H({objectId:eo,version:el,digest:Y()}),ed=ei(et([H({GasCoin:F(!0)}),H({Input:ei(K(),A()),type:Z(F("pure"))}),H({Input:ei(K(),A()),type:Z(F("object"))}),H({Result:ei(K(),A())}),H({NestedResult:Q([ei(K(),A()),ei(K(),A())])})]),P(e=>({...e,$kind:Object.keys(e)[0]}))),ep=H({budget:G(el),price:G(el),owner:G(eo),payment:G(z(ec))});H({address:Y(),module:Y(),name:Y(),typeParams:z(Y())});let eh=et([F("address"),F("bool"),F("u8"),F("u16"),F("u32"),F("u64"),F("u128"),F("u256"),H({vector:W(()=>eh)}),H({datatype:H({package:Y(),module:Y(),type:Y(),typeParameters:z(W(()=>eh))})}),H({typeParameter:ei(K(),A())})]),eg=H({ref:G(et([F("&"),F("&mut")])),body:eh}),ef=H({package:eo,module:Y(),function:Y(),typeArguments:z(Y()),arguments:z(ed),_argumentTypes:Z(G(z(eg)))}),em=H({name:Y(),inputs:X(Y(),et([ed,z(ed)])),data:X(Y(),er())}),ey=ea({MoveCall:ef,TransferObjects:H({objects:z(ed),address:ed}),SplitCoins:H({coin:ed,amounts:z(ed)}),MergeCoins:H({destination:ed,sources:z(ed)}),Publish:H({modules:z(eu),dependencies:z(eo)}),MakeMoveVec:H({type:G(Y()),elements:z(ed)}),Upgrade:H({modules:z(eu),dependencies:z(eo),package:eo,ticket:ed}),$Intent:em}),eb=ea({ImmOrOwnedObject:ec,SharedObject:H({objectId:eo,initialSharedVersion:el,mutable:L()}),Receiving:ec}),ej=ea({Object:eb,Pure:H({bytes:eu}),UnresolvedPure:H({value:er()}),UnresolvedObject:H({objectId:eo,version:Z(G(el)),digest:Z(G(Y())),initialSharedVersion:Z(G(el))})}),ew=ea({Object:eb,Pure:H({bytes:eu})}),ev=ea({None:F(!0),Epoch:el}),ek=H({version:F(2),sender:J(eo),expiration:J(ev),gasData:ep,inputs:z(ej),commands:z(ey)});var eO=(e=>(e[e.COMPATIBLE=0]="COMPATIBLE",e[e.ADDITIVE=128]="ADDITIVE",e[e.DEP_ONLY=192]="DEP_ONLY",e))(eO||{});let eS={MoveCall(e){let[t,r="",n=""]="target"in e?e.target.split("::"):[e.package,e.module,e.function];return{$kind:"MoveCall",MoveCall:{package:t,module:r,function:n,typeArguments:e.typeArguments??[],arguments:e.arguments??[]}}},TransferObjects:(e,t)=>({$kind:"TransferObjects",TransferObjects:{objects:e.map(e=>en(ed,e)),address:en(ed,t)}}),SplitCoins:(e,t)=>({$kind:"SplitCoins",SplitCoins:{coin:en(ed,e),amounts:t.map(e=>en(ed,e))}}),MergeCoins:(e,t)=>({$kind:"MergeCoins",MergeCoins:{destination:en(ed,e),sources:t.map(e=>en(ed,e))}}),Publish:({modules:e,dependencies:t})=>({$kind:"Publish",Publish:{modules:e.map(e=>"string"==typeof e?e:(0,E.n)(new Uint8Array(e))),dependencies:t.map(e=>(0,es.fN)(e))}}),Upgrade:({modules:e,dependencies:t,package:r,ticket:n})=>({$kind:"Upgrade",Upgrade:{modules:e.map(e=>"string"==typeof e?e:(0,E.n)(new Uint8Array(e))),dependencies:t.map(e=>(0,es.fN)(e)),package:r,ticket:en(ed,n)}}),MakeMoveVec:({type:e,elements:t})=>({$kind:"MakeMoveVec",MakeMoveVec:{type:e??null,elements:t.map(e=>en(ed,e))}}),Intent:({name:e,inputs:t={},data:r={}})=>({$kind:"$Intent",$Intent:{name:e,inputs:Object.fromEntries(Object.entries(t).map(([e,t])=>[e,Array.isArray(t)?t.map(e=>en(ed,e)):en(ed,t)])),data:r}})};var ex=r(3852);let eE=H({digest:Y(),objectId:Y(),version:et([ei(K(),A()),Y(),q()])}),eI=ea({ImmOrOwned:eE,Shared:H({objectId:eo,initialSharedVersion:el,mutable:L()}),Receiving:eE}),eT=ea({Object:eI,Pure:z(ei(K(),A()))}),eC=et([H({kind:F("Input"),index:ei(K(),A()),value:er(),type:Z(F("object"))}),H({kind:F("Input"),index:ei(K(),A()),value:er(),type:F("pure")})]),eM=et([H({Epoch:ei(K(),A())}),H({None:G(F(!0))})]),e$=ei(et([K(),Y(),q()]),$(e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}})),eA=et([H({bool:G(F(!0))}),H({u8:G(F(!0))}),H({u64:G(F(!0))}),H({u128:G(F(!0))}),H({address:G(F(!0))}),H({signer:G(F(!0))}),H({vector:W(()=>eA)}),H({struct:W(()=>eP)}),H({u16:G(F(!0))}),H({u32:G(F(!0))}),H({u256:G(F(!0))})]),eP=H({address:Y(),module:Y(),name:Y(),typeParams:z(eA)}),eU=H({budget:Z(e$),price:Z(e$),payment:Z(z(eE)),owner:Z(Y())}),eB=et([eC,H({kind:F("GasCoin")}),H({kind:F("Result"),index:ei(K(),A())}),H({kind:F("NestedResult"),index:ei(K(),A()),resultIndex:ei(K(),A())})]),eD=H({kind:F("MoveCall"),target:ei(Y(),$(e=>3===e.split("::").length)),typeArguments:z(Y()),arguments:z(eB)}),eV=H({kind:F("TransferObjects"),objects:z(eB),address:eB}),eR=H({kind:F("SplitCoins"),coin:eB,amounts:z(eB)}),eN=H({kind:F("MergeCoins"),destination:eB,sources:z(eB)}),e_=H({kind:F("MakeMoveVec"),type:et([H({Some:eA}),H({None:G(F(!0))})]),objects:z(eB)}),ez=et([eD,eV,eR,eN,H({kind:F("Publish"),modules:z(z(ei(K(),A()))),dependencies:z(Y())}),H({kind:F("Upgrade"),modules:z(z(ei(K(),A()))),dependencies:z(Y()),packageId:Y(),ticket:eB}),e_]);function eq(e){let t=e.inputs.map((e,t)=>{if(e.Object)return{kind:"Input",index:t,value:{Object:e.Object.ImmOrOwnedObject?{ImmOrOwned:e.Object.ImmOrOwnedObject}:e.Object.Receiving?{Receiving:{digest:e.Object.Receiving.digest,version:e.Object.Receiving.version,objectId:e.Object.Receiving.objectId}}:{Shared:{mutable:e.Object.SharedObject.mutable,initialSharedVersion:e.Object.SharedObject.initialSharedVersion,objectId:e.Object.SharedObject.objectId}}},type:"object"};if(e.Pure)return{kind:"Input",index:t,value:{Pure:Array.from((0,E.E)(e.Pure.bytes))},type:"pure"};if(e.UnresolvedPure)return{kind:"Input",type:"pure",index:t,value:e.UnresolvedPure.value};if(e.UnresolvedObject)return{kind:"Input",type:"object",index:t,value:e.UnresolvedObject.objectId};throw Error("Invalid input")});return{version:1,sender:e.sender??void 0,expiration:e.expiration?.$kind==="Epoch"?{Epoch:Number(e.expiration.Epoch)}:e.expiration?{None:!0}:null,gasConfig:{owner:e.gasData.owner??void 0,budget:e.gasData.budget??void 0,price:e.gasData.price??void 0,payment:e.gasData.payment??void 0},inputs:t,transactions:e.commands.map(e=>{if(e.MakeMoveVec)return{kind:"MakeMoveVec",type:null===e.MakeMoveVec.type?{None:!0}:{Some:ex.r.parseFromStr(e.MakeMoveVec.type)},objects:e.MakeMoveVec.elements.map(e=>eL(e,t))};if(e.MergeCoins)return{kind:"MergeCoins",destination:eL(e.MergeCoins.destination,t),sources:e.MergeCoins.sources.map(e=>eL(e,t))};if(e.MoveCall)return{kind:"MoveCall",target:`${e.MoveCall.package}::${e.MoveCall.module}::${e.MoveCall.function}`,typeArguments:e.MoveCall.typeArguments,arguments:e.MoveCall.arguments.map(e=>eL(e,t))};if(e.Publish)return{kind:"Publish",modules:e.Publish.modules.map(e=>Array.from((0,E.E)(e))),dependencies:e.Publish.dependencies};if(e.SplitCoins)return{kind:"SplitCoins",coin:eL(e.SplitCoins.coin,t),amounts:e.SplitCoins.amounts.map(e=>eL(e,t))};if(e.TransferObjects)return{kind:"TransferObjects",objects:e.TransferObjects.objects.map(e=>eL(e,t)),address:eL(e.TransferObjects.address,t)};if(e.Upgrade)return{kind:"Upgrade",modules:e.Upgrade.modules.map(e=>Array.from((0,E.E)(e))),dependencies:e.Upgrade.dependencies,packageId:e.Upgrade.package,ticket:eL(e.Upgrade.ticket,t)};throw Error(`Unknown transaction ${Object.keys(e)}`)})}}function eL(e,t){if("GasCoin"===e.$kind)return{kind:"GasCoin"};if("Result"===e.$kind)return{kind:"Result",index:e.Result};if("NestedResult"===e.$kind)return{kind:"NestedResult",index:e.NestedResult[0],resultIndex:e.NestedResult[1]};if("Input"===e.$kind)return t[e.Input];throw Error(`Invalid argument ${Object.keys(e)}`)}function eW(e){switch(e.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:e.index};case"NestedResult":return{NestedResult:[e.index,e.resultIndex]};case"Input":return{Input:e.index}}}function eF(e){return et(Object.entries(e).map(([e,t])=>H({[e]:t})))}H({version:F(1),sender:Z(Y()),expiration:J(eM),gasConfig:eU,inputs:z(eC),transactions:z(ez)});let eG=eF({GasCoin:F(!0),Input:ei(K(),A()),Result:ei(K(),A()),NestedResult:Q([ei(K(),A()),ei(K(),A())])}),eJ=H({budget:G(el),price:G(el),owner:G(eo),payment:G(z(ec))}),eK=H({package:eo,module:Y(),function:Y(),typeArguments:z(Y()),arguments:z(eG)}),eH=H({name:Y(),inputs:X(Y(),et([eG,z(eG)])),data:X(Y(),er())}),eZ=eF({MoveCall:eK,TransferObjects:H({objects:z(eG),address:eG}),SplitCoins:H({coin:eG,amounts:z(eG)}),MergeCoins:H({destination:eG,sources:z(eG)}),Publish:H({modules:z(eu),dependencies:z(eo)}),MakeMoveVec:H({type:G(Y()),elements:z(eG)}),Upgrade:H({modules:z(eu),dependencies:z(eo),package:eo,ticket:eG}),$Intent:eH}),eX=eF({ImmOrOwnedObject:ec,SharedObject:H({objectId:eo,initialSharedVersion:el,mutable:L()}),Receiving:ec}),eY=eF({Object:eX,Pure:H({bytes:eu}),UnresolvedPure:H({value:er()}),UnresolvedObject:H({objectId:eo,version:Z(G(el)),digest:Z(G(Y())),initialSharedVersion:Z(G(el))})}),eQ=eF({None:F(!0),Epoch:el}),e0=H({version:F(2),sender:J(eo),expiration:J(eQ),gasData:eJ,inputs:z(eY),commands:z(eZ)}),e1={Pure:function(e){return{$kind:"Pure",Pure:{bytes:e instanceof Uint8Array?(0,E.n)(e):e.toBase64()}}},ObjectRef:({objectId:e,digest:t,version:r})=>({$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:t,version:r,objectId:(0,es.t4)(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:r})=>({$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:t,initialSharedVersion:r,objectId:(0,es.t4)(e)}}}),ReceivingRef:({objectId:e,digest:t,version:r})=>({$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:t,version:r,objectId:(0,es.t4)(e)}}})};var e2=r(3066);function e6(e){if("string"==typeof e)switch(e){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw Error(`Unexpected type ${e}`)}if("Vector"in e)return{vector:e6(e.Vector)};if("Struct"in e)return{datatype:{package:e.Struct.address,module:e.Struct.module,type:e.Struct.name,typeParameters:e.Struct.typeArguments.map(e6)}};if("TypeParameter"in e)return{typeParameter:e.TypeParameter};throw Error(`Unexpected type ${JSON.stringify(e)}`)}async function e4(e,t,r){return await e7(e,t),await e9(e,t),t.onlyTransactionKind||(await e8(e,t),await e3(e,t),await e5(e,t)),await function(e){e.inputs.forEach((e,t)=>{if("Object"!==e.$kind&&"Pure"!==e.$kind)throw Error(`Input at index ${t} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}(e),await r()}async function e8(e,t){e.gasConfig.price||(e.gasConfig.price=String(await tt(t).getReferenceGasPrice()))}async function e3(e,t){if(e.gasConfig.budget)return;let r=await tt(t).dryRunTransactionBlock({transactionBlock:e.build({overrides:{gasData:{budget:String(5e10),payment:[]}}})});if("success"!==r.effects.status.status)throw Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});let n=1000n*BigInt(e.gasConfig.price||1n),i=BigInt(r.effects.gasUsed.computationCost)+n,s=i+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);e.gasConfig.budget=String(s>i?s:i)}async function e5(e,t){if(!e.gasConfig.payment){let r=(await tt(t).getCoins({owner:e.gasConfig.owner||e.sender,coinType:"0x2::sui::SUI"})).data.filter(t=>!e.inputs.find(e=>!!e.Object?.ImmOrOwnedObject&&t.coinObjectId===e.Object.ImmOrOwnedObject.objectId)).map(e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version}));if(!r.length)throw Error("No valid gas coins found for the transaction.");e.gasConfig.payment=r.map(e=>en(ec,e))}}async function e9(e,t){let r=[...new Set(e.inputs.filter(e=>e.UnresolvedObject&&!(e.UnresolvedObject.version||e.UnresolvedObject?.initialSharedVersion)).map(e=>(0,es.fN)(e.UnresolvedObject.objectId)))],n=r.length?Array.from({length:Math.ceil(r.length/50)},(e,t)=>r.slice(50*t,(t+1)*50)):[],i=(await Promise.all(n.map(e=>tt(t).multiGetObjects({ids:e,options:{showOwner:!0}})))).flat(),s=Array.from(new Map(r.map((e,t)=>[e,i[t]]))).filter(([e,t])=>t.error).map(([e,t])=>JSON.stringify(t.error));if(s.length)throw Error(`The following input objects are invalid: ${s.join(", ")}`);let a=i.map(e=>{if(e.error||!e.data)throw Error(`Failed to fetch object: ${e.error}`);let t=e.data.owner,r=t&&"object"==typeof t&&"Shared"in t?t.Shared.initial_shared_version:null;return{objectId:e.data.objectId,digest:e.data.digest,version:e.data.version,initialSharedVersion:r}}),o=new Map(r.map((e,t)=>[e,a[t]]));for(let[t,r]of e.inputs.entries()){let n;if(!r.UnresolvedObject)continue;let i=(0,es.t4)(r.UnresolvedObject.objectId),s=o.get(i);r.UnresolvedObject.initialSharedVersion??s?.initialSharedVersion?n=e1.SharedObjectRef({objectId:i,initialSharedVersion:r.UnresolvedObject.initialSharedVersion||s?.initialSharedVersion,mutable:function(e,t){let r=!1;return e.getInputUses(t,(e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){let n=t.MoveCall.arguments.indexOf(e);r="&"!==t.MoveCall._argumentTypes[n].ref||r}("MakeMoveVec"===t.$kind||"MergeCoins"===t.$kind||"SplitCoins"===t.$kind)&&(r=!0)}),r}(e,t)}):function(e,t){let r=!1;return e.getInputUses(t,(e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){var n;let i=t.MoveCall.arguments.indexOf(e);r="object"==typeof(n=t.MoveCall._argumentTypes[i]).body&&"datatype"in n.body&&"0x2"===n.body.datatype.package&&"transfer"===n.body.datatype.module&&"Receiving"===n.body.datatype.type||r}}),r}(e,t)&&(n=e1.ReceivingRef({objectId:i,digest:r.UnresolvedObject.digest??s?.digest,version:r.UnresolvedObject.version??s?.version})),e.inputs[e.inputs.indexOf(r)]=n??e1.ObjectRef({objectId:i,digest:r.UnresolvedObject.digest??s?.digest,version:r.UnresolvedObject.version??s?.version})}}async function e7(e,t){let{inputs:r,commands:n}=e,i=[],s=new Set;n.forEach(t=>{if(t.MoveCall){if(t.MoveCall._argumentTypes)return;if(t.MoveCall.arguments.map(t=>"Input"===t.$kind?e.inputs[t.Input]:null).some(e=>e?.UnresolvedPure||e?.UnresolvedObject)){let e=`${t.MoveCall.package}::${t.MoveCall.module}::${t.MoveCall.function}`;s.add(e),i.push(t.MoveCall)}}switch(t.$kind){case"SplitCoins":t.SplitCoins.amounts.forEach(t=>{te(t,e2.jy.U64,e)});break;case"TransferObjects":te(t.TransferObjects.address,e2.jy.Address,e)}});let a=new Map;if(s.size>0){let e=tt(t);await Promise.all([...s].map(async t=>{let[r,n,i]=t.split("::"),s=await e.getNormalizedMoveFunction({package:r,module:n,function:i});a.set(t,s.parameters.map(e=>"object"==typeof e&&"Reference"in e?{ref:"&",body:e6(e.Reference)}:"object"==typeof e&&"MutableReference"in e?{ref:"&mut",body:e6(e.MutableReference)}:{ref:null,body:e6(e)}))}))}i.length&&await Promise.all(i.map(async e=>{let t=a.get(`${e.package}::${e.module}::${e.function}`);if(!t)return;let r=t.length>0&&function(e){let t="object"==typeof e.body&&"datatype"in e.body?e.body.datatype:null;return!!t&&(0,es.t4)(t.package)===(0,es.t4)("0x2")&&"tx_context"===t.module&&"TxContext"===t.type}(t.at(-1))?t.slice(0,t.length-1):t;e._argumentTypes=r})),n.forEach(e=>{if(!e.MoveCall)return;let t=e.MoveCall,n=`${t.package}::${t.module}::${t.function}`,i=t._argumentTypes;if(i){if(i.length!==e.MoveCall.arguments.length)throw Error(`Incorrect number of arguments for ${n}`);i.forEach((e,n)=>{let i=t.arguments[n];if("Input"!==i.$kind)return;let s=r[i.Input];if(!s.UnresolvedPure&&!s.UnresolvedObject)return;let a=s.UnresolvedPure?.value??s.UnresolvedObject?.objectId,o=function e(t){if("string"==typeof t)switch(t){case"address":return e2.jy.Address;case"bool":return e2.jy.Bool;case"u8":return e2.jy.U8;case"u16":return e2.jy.U16;case"u32":return e2.jy.U32;case"u64":return e2.jy.U64;case"u128":return e2.jy.U128;case"u256":return e2.jy.U256;default:throw Error(`Unknown type signature ${t}`)}if("vector"in t){if("u8"===t.vector)return e2.jy.vector(e2.jy.U8).transform({input:e=>"string"==typeof e?new TextEncoder().encode(e):e,output:e=>e});let r=e(t.vector);return r?e2.jy.vector(r):null}if("datatype"in t){let r=(0,es.t4)(t.datatype.package);if(r===(0,es.t4)("0x1")){if("ascii"===t.datatype.module&&"String"===t.datatype.type||"string"===t.datatype.module&&"String"===t.datatype.type)return e2.jy.String;if("option"===t.datatype.module&&"Option"===t.datatype.type){let r=e(t.datatype.typeParameters[0]);return r?e2.jy.vector(r):null}}if(r===(0,es.t4)("0x2")&&"object"===t.datatype.module&&"ID"===t.datatype.type)return e2.jy.Address}return null}(e.body);if(o){i.type="pure",r[r.indexOf(s)]=e1.Pure(o.serialize(a));return}if("string"!=typeof a)throw Error(`Expect the argument to be an object id string, got ${JSON.stringify(a,null,2)}`);i.type="object";let u=s.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:a}}:s;r[i.Input]=u})}})}function te(e,t,r){if("Input"!==e.$kind)return;let n=r.inputs[e.Input];"UnresolvedPure"===n.$kind&&(r.inputs[e.Input]=e1.Pure(t.serialize(n.UnresolvedPure.value)))}function tt(e){if(!e.client)throw Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}BigInt(1e9),(0,es.fN)("0x6"),(0,es.fN)("0x5");var tr=r(6962),tn=r(8956);function ti(e){switch(e){case"u8":return tr.j.u8();case"u16":return tr.j.u16();case"u32":return tr.j.u32();case"u64":return tr.j.u64();case"u128":return tr.j.u128();case"u256":return tr.j.u256();case"bool":return tr.j.bool();case"string":return tr.j.string();case"id":case"address":return tn.pV}let t=e.match(/^(vector|option)<(.+)>$/);if(t){let[e,r]=t.slice(1);return"vector"===e?tr.j.vector(ti(r)):tr.j.option(ti(r))}throw Error(`Invalid Pure type name: ${e}`)}var ts=r(4356),ta=r(5488);function to(e){return(0,es.t4)(e).replace("0x","")}class tu{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){let t=e2.jy.TransactionKind.parse(e).ProgrammableTransaction;if(!t)throw Error("Unable to deserialize from bytes.");return tu.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:t.inputs,commands:t.commands})}static fromBytes(e){let t=e2.jy.TransactionData.parse(e),r=t?.V1,n=r.kind.ProgrammableTransaction;if(!r||!n)throw Error("Unable to deserialize from bytes.");return tu.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:n.inputs,commands:n.commands})}static restore(e){return new tu(2===e.version?en(ek,e):en(ek,en(ek,{version:2,sender:e.sender??null,expiration:e.expiration?"Epoch"in e.expiration?{Epoch:e.expiration.Epoch}:{None:!0}:null,gasData:{owner:e.gasConfig.owner??null,budget:e.gasConfig.budget?.toString()??null,price:e.gasConfig.price?.toString()??null,payment:e.gasConfig.payment?.map(e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()}))??null},inputs:e.inputs.map(e=>{if("Input"===e.kind){if(_(eT,e.value)){let t=en(eT,e.value);if(t.Object){if(t.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:t.Object.ImmOrOwned.objectId,version:String(t.Object.ImmOrOwned.version),digest:t.Object.ImmOrOwned.digest}}};if(t.Object.Shared)return{Object:{SharedObject:{mutable:t.Object.Shared.mutable??null,initialSharedVersion:t.Object.Shared.initialSharedVersion,objectId:t.Object.Shared.objectId}}};if(t.Object.Receiving)return{Object:{Receiving:{digest:t.Object.Receiving.digest,version:String(t.Object.Receiving.version),objectId:t.Object.Receiving.objectId}}};throw Error("Invalid object input")}return{Pure:{bytes:(0,E.n)(new Uint8Array(t.Pure))}}}return"object"===e.type?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw Error("Invalid input")}),commands:e.transactions.map(e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?ex.r.tagToString(e.type.Some):null,elements:e.objects.map(e=>eW(e))}};case"MergeCoins":return{MergeCoins:{destination:eW(e.destination),sources:e.sources.map(e=>eW(e))}};case"MoveCall":{let[t,r,n]=e.target.split("::");return{MoveCall:{package:t,module:r,function:n,typeArguments:e.typeArguments,arguments:e.arguments.map(e=>eW(e))}}}case"Publish":return{Publish:{modules:e.modules.map(e=>(0,E.n)(Uint8Array.from(e))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:eW(e.coin),amounts:e.amounts.map(e=>eW(e))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map(e=>eW(e)),address:eW(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map(e=>(0,E.n)(Uint8Array.from(e))),dependencies:e.dependencies,package:e.packageId,ticket:eW(e.ticket)}}}throw Error(`Unknown transaction ${Object.keys(e)}`)})})))}static getDigestFromBytes(e){let t=function(e,t){let r=Array.from(`${e}::`).map(e=>e.charCodeAt(0)),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),(0,ta.S)(n,{dkLen:32})}("TransactionData",e);return(0,ts.g)(t)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){let n=this.inputs,i=this.commands;if(r)return e2.jy.TransactionKind.serialize({ProgrammableTransaction:{inputs:n,commands:i}},{maxSize:e}).toBytes();let s=t?.expiration??this.expiration,a=t?.sender??this.sender,o={...this.gasData,...t?.gasConfig,...t?.gasData};if(!a)throw Error("Missing transaction sender");if(!o.budget)throw Error("Missing gas budget");if(!o.payment)throw Error("Missing gas payment");if(!o.price)throw Error("Missing gas price");let u={sender:to(a),expiration:s||{None:!0},gasData:{payment:o.payment,owner:to(this.gasData.owner??a),price:BigInt(o.price),budget:BigInt(o.budget)},kind:{ProgrammableTransaction:{inputs:n,commands:i}}};return e2.jy.TransactionData.serialize({V1:u},{maxSize:e}).toBytes()}addInput(e,t){let r=this.inputs.length;return this.inputs.push(t),{Input:r,type:e,$kind:"Input"}}getInputUses(e,t){this.mapArguments((r,n)=>("Input"===r.$kind&&r.Input===e&&t(r,n),r))}mapCommandArguments(e,t){let r=this.commands[e];switch(r.$kind){case"MoveCall":r.MoveCall.arguments=r.MoveCall.arguments.map(n=>t(n,r,e));break;case"TransferObjects":r.TransferObjects.objects=r.TransferObjects.objects.map(n=>t(n,r,e)),r.TransferObjects.address=t(r.TransferObjects.address,r,e);break;case"SplitCoins":r.SplitCoins.coin=t(r.SplitCoins.coin,r,e),r.SplitCoins.amounts=r.SplitCoins.amounts.map(n=>t(n,r,e));break;case"MergeCoins":r.MergeCoins.destination=t(r.MergeCoins.destination,r,e),r.MergeCoins.sources=r.MergeCoins.sources.map(n=>t(n,r,e));break;case"MakeMoveVec":r.MakeMoveVec.elements=r.MakeMoveVec.elements.map(n=>t(n,r,e));break;case"Upgrade":r.Upgrade.ticket=t(r.Upgrade.ticket,r,e);break;case"$Intent":let n=r.$Intent.inputs;for(let[i,s]of(r.$Intent.inputs={},Object.entries(n)))r.$Intent.inputs[i]=Array.isArray(s)?s.map(n=>t(n,r,e)):t(s,r,e);break;case"Publish":break;default:throw Error(`Unexpected transaction kind: ${r.$kind}`)}}mapArguments(e){for(let t of this.commands.keys())this.mapCommandArguments(t,e)}replaceCommand(e,t,r=e){if(!Array.isArray(t)){this.commands[e]=t;return}let n=t.length-1;this.commands.splice(e,1,...t),0!==n&&this.mapArguments((i,s,a)=>{if(a<e+t.length)return i;switch(i.$kind){case"Result":i.Result===e&&(i.Result=r),i.Result>e&&(i.Result+=n);break;case"NestedResult":i.NestedResult[0]===e&&(i.NestedResult[0]=r),i.NestedResult[0]>e&&(i.NestedResult[0]+=n)}return i})}getDigest(){let e=this.build({onlyTransactionKind:!1});return tu.getDigestFromBytes(e)}snapshot(){return en(ek,this)}shallowClone(){return new tu({version:this.version,sender:this.sender,expiration:this.expiration,gasData:{...this.gasData},inputs:[...this.inputs],commands:[...this.commands]})}}function tl(e){return"string"==typeof e?(0,es.t4)(e):e.Object?e.Object.ImmOrOwnedObject?(0,es.t4)(e.Object.ImmOrOwnedObject.objectId):e.Object.Receiving?(0,es.t4)(e.Object.Receiving.objectId):(0,es.t4)(e.Object.SharedObject.objectId):e.UnresolvedObject?(0,es.t4)(e.UnresolvedObject.objectId):void 0}var tc=e=>{throw TypeError(e)},td=(e,t,r)=>t.has(e)||tc("Cannot "+r),tp=(e,t,r)=>(td(e,t,"read from private field"),r?r.call(e):t.get(e)),th=(e,t,r)=>t.has(e)?tc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),tg=(e,t,r,n)=>(td(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),tf=(e,t,r)=>(td(e,t,"access private method"),r);function tm(e,t=1/0){let r=[],n=t=>r[t]??(r[t]={$kind:"NestedResult",NestedResult:[e,t]});return new Proxy({$kind:"Result",Result:e},{set(){throw Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,r){if(r in e)return Reflect.get(e,r);if(r===Symbol.iterator)return function*(){let e=0;for(;e<t;)yield n(e),e++};if("symbol"==typeof r)return;let i=parseInt(r,10);if(!Number.isNaN(i)&&!(i<0))return n(i)}})}let ty=Symbol.for("@mysten/transaction");function tb(e){return!!e&&"object"==typeof e&&!0===e[ty]}let tj={buildPlugins:new Map,serializationPlugins:new Map},tw=Symbol.for("@mysten/transaction/registry");function tv(){try{let e=globalThis;return e[tw]||(e[tw]=tj),e[tw]}catch(e){return tj}}let tk=class e{constructor(){th(this,m),th(this,o),th(this,u),th(this,l,new Map),th(this,c,[]),th(this,d,[]),th(this,p,new Set),th(this,h,new Set),th(this,g,new Map),th(this,f),this.object=function(e){function t(t){return e(t)}return t.system=()=>e("0x5"),t.clock=()=>e("0x6"),t.random=()=>e("0x8"),t.denyList=()=>e("0x403"),t.option=({type:e,value:t})=>r=>r.moveCall({typeArguments:[e],target:`0x1::option::${null===t?"none":"some"}`,arguments:null===t?[]:[r.object(t)]}),t}(e=>{if("function"==typeof e)return this.object(this.add(e));if("object"==typeof e&&_(ed,e))return e;let t=tl(e),r=tp(this,f).inputs.find(e=>t===tl(e));return r?.Object?.SharedObject&&"object"==typeof e&&e.Object?.SharedObject&&(r.Object.SharedObject.mutable=r.Object.SharedObject.mutable||e.Object.SharedObject.mutable),r?{$kind:"Input",Input:tp(this,f).inputs.indexOf(r),type:"object"}:tf(this,m,j).call(this,"object","string"==typeof e?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:(0,es.t4)(e)}}:e)});let e=tv();tg(this,f,new tu),tg(this,u,[...e.buildPlugins.values()]),tg(this,o,[...e.serializationPlugins.values()])}static fromKind(t){let r=new e;return tg(r,f,tu.fromKindBytes("string"==typeof t?(0,E.E)(t):t)),tg(r,c,tp(r,f).inputs),tg(r,d,tp(r,f).commands),r}static from(t){let r=new e;return tb(t)?tg(r,f,new tu(t.getData())):"string"==typeof t&&t.startsWith("{")?tg(r,f,tu.restore(JSON.parse(t))):tg(r,f,tu.fromBytes("string"==typeof t?(0,E.E)(t):t)),tg(r,c,tp(r,f).inputs),tg(r,d,tp(r,f).commands),r}static registerGlobalSerializationPlugin(e,t){tv().serializationPlugins.set(e,t??e)}static unregisterGlobalSerializationPlugin(e){tv().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,t){tv().buildPlugins.set(e,t??e)}static unregisterGlobalBuildPlugin(e){tv().buildPlugins.delete(e)}addSerializationPlugin(e){tp(this,o).push(e)}addBuildPlugin(e){tp(this,u).push(e)}addIntentResolver(e,t){if(tp(this,l).has(e)&&tp(this,l).get(e)!==t)throw Error(`Intent resolver for ${e} already exists`);tp(this,l).set(e,t)}setSender(e){tp(this,f).sender=e}setSenderIfNotSet(e){tp(this,f).sender||(tp(this,f).sender=e)}setExpiration(e){tp(this,f).expiration=e?en(ev,e):null}setGasPrice(e){tp(this,f).gasConfig.price=String(e)}setGasBudget(e){tp(this,f).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){null==tp(this,f).gasData.budget&&(tp(this,f).gasConfig.budget=String(e))}setGasOwner(e){tp(this,f).gasConfig.owner=e}setGasPayment(e){tp(this,f).gasConfig.payment=e.map(e=>en(ec,e))}get blockData(){return eq(tp(this,f).snapshot())}getData(){return tp(this,f).snapshot()}get[ty](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:function(e){function t(t,r){if("string"==typeof t)return e(ti(t).serialize(r));if(t instanceof Uint8Array||(0,I.d_)(t))return e(t);throw Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return t.u8=t=>e(e2.jy.U8.serialize(t)),t.u16=t=>e(e2.jy.U16.serialize(t)),t.u32=t=>e(e2.jy.U32.serialize(t)),t.u64=t=>e(e2.jy.U64.serialize(t)),t.u128=t=>e(e2.jy.U128.serialize(t)),t.u256=t=>e(e2.jy.U256.serialize(t)),t.bool=t=>e(e2.jy.Bool.serialize(t)),t.string=t=>e(e2.jy.String.serialize(t)),t.address=t=>e(e2.jy.Address.serialize(t)),t.id=t.address,t.vector=(t,r)=>e(e2.jy.vector(ti(t)).serialize(r)),t.option=(t,r)=>e(e2.jy.option(ti(t)).serialize(r)),t}(e=>(0,I.d_)(e)?tf(this,m,j).call(this,"pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):tf(this,m,j).call(this,"pure",_(ew,e)?en(ew,e):e instanceof Uint8Array?e1.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(e1.ObjectRef(...e))}receivingRef(...e){return this.object(e1.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(e1.SharedObjectRef(...e))}add(e){if("function"==typeof e){if(tp(this,g).has(e))return tp(this,g).get(e);let t=tf(this,m,y).call(this),r=e(t);if(!(r&&"object"==typeof r&&"then"in r))return tg(this,p,tp(t,p)),tp(this,g).set(e,r),r;let n=tf(this,m,b).call(this,{$kind:"$Intent",$Intent:{name:"AsyncTransactionThunk",inputs:{},data:{result:null}}});tp(this,h).add(Promise.resolve(r).then(e=>{n.$Intent.data.result=e}));let i=tm(tp(this,f).commands.length-1);return tp(this,g).set(e,i),i}return tf(this,m,b).call(this,e),tm(tp(this,f).commands.length-1)}splitCoins(e,t){let r=eS.SplitCoins("string"==typeof e?this.object(e):tf(this,m,v).call(this,e),t.map(e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):tf(this,m,w).call(this,e)));return tf(this,m,b).call(this,r),tm(tp(this,f).commands.length-1,t.length)}mergeCoins(e,t){return this.add(eS.MergeCoins(this.object(e),t.map(e=>this.object(e))))}publish({modules:e,dependencies:t}){return this.add(eS.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,package:r,ticket:n}){return this.add(eS.Upgrade({modules:e,dependencies:t,package:r,ticket:this.object(n)}))}moveCall({arguments:e,...t}){return this.add(eS.MoveCall({...t,arguments:e?.map(e=>tf(this,m,w).call(this,e))}))}transferObjects(e,t){return this.add(eS.TransferObjects(e.map(e=>this.object(e)),"string"==typeof t?this.pure.address(t):tf(this,m,w).call(this,t)))}makeMoveVec({type:e,elements:t}){return this.add(eS.MakeMoveVec({type:e,elements:t.map(e=>this.object(e))}))}serialize(){return JSON.stringify(eq(tp(this,f).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(en(e0,tp(this,f).snapshot()),(e,t)=>"bigint"==typeof t?t.toString():t,2)}async sign(e){let{signer:t,...r}=e,n=await this.build(r);return t.signTransaction(n)}async build(e={}){return await this.prepareForSerialization(e),await tf(this,m,k).call(this,e),tp(this,f).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await tf(this,m,k).call(this,e),tp(this,f).getDigest()}async prepareForSerialization(e){await tf(this,m,S).call(this),tf(this,m,x).call(this);let t=new Set;for(let e of tp(this,f).commands)e.$Intent&&t.add(e.$Intent.name);let r=[...tp(this,o)];for(let n of t)if(!e.supportedIntents?.includes(n)){if(!tp(this,l).has(n))throw Error(`Missing intent resolver for ${n}`);r.push(tp(this,l).get(n))}await tf(this,m,O).call(this,r,e)}};o=new WeakMap,u=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,h=new WeakMap,g=new WeakMap,f=new WeakMap,m=new WeakSet,y=function(){let e=new tk;return tg(e,f,tp(this,f)),tg(e,o,tp(this,o)),tg(e,u,tp(this,u)),tg(e,l,tp(this,l)),tg(e,h,tp(this,h)),tg(e,p,new Set(tp(this,p))),tg(e,g,tp(this,g)),tp(this,c).push(tp(e,c)),tp(this,d).push(tp(e,d)),e},b=function(e){let t=tp(this,f).commands.length;return tp(this,d).push(e),tp(this,p).add(t),tp(this,f).commands.push(e),tp(this,f).mapCommandArguments(t,e=>{if("Result"===e.$kind&&!tp(this,p).has(e.Result))throw Error(`Result { Result: ${e.Result} } is not available to use the current transaction`);if("NestedResult"===e.$kind&&!tp(this,p).has(e.NestedResult[0]))throw Error(`Result { NestedResult: [${e.NestedResult[0]}, ${e.NestedResult[1]}] } is not available to use the current transaction`);if("Input"===e.$kind&&e.Input>=tp(this,f).inputs.length)throw Error(`Input { Input: ${e.Input} } references an input that does not exist in the current transaction`);return e}),e},j=function(e,t){return tp(this,c).push(t),tp(this,f).addInput(e,t)},w=function(e){return(0,I.d_)(e)?this.pure(e):tf(this,m,v).call(this,e)},v=function(e){if("function"==typeof e){let t=this.add(e);return"function"==typeof t?tf(this,m,v).call(this,t):en(ed,t)}return en(ed,e)},k=async function(e){if(!e.onlyTransactionKind&&!tp(this,f).sender)throw Error("Missing transaction sender");await tf(this,m,O).call(this,[...tp(this,u),e4],e)},O=async function(e,t){let r=n=>{if(n>=e.length)return()=>{};let i=e[n];return async()=>{let e=r(n+1),s=!1,a=!1;if(await i(tp(this,f),t,async()=>{if(s)throw Error(`next() was call multiple times in TransactionPlugin ${n}`);s=!0,await e(),a=!0}),!s)throw Error(`next() was not called in TransactionPlugin ${n}`);if(!a)throw Error(`next() was not awaited in TransactionPlugin ${n}`)}};await r(0)(),tg(this,c,tp(this,f).inputs),tg(this,d,tp(this,f).commands)},S=async function(){for(;tp(this,h).size>0;){let e=Promise.all(tp(this,h));tp(this,h).clear(),tp(this,h).add(e),await e,tp(this,h).delete(e)}},x=function(){let e=tp(this,f).commands,t=tp(this,f).inputs,r=tp(this,d).flat(1/0),n=tp(this,c).flat(1/0);if(r.length!==e.length)throw Error("Unexpected number of commands found in transaction data");if(n.length!==t.length)throw Error("Unexpected number of inputs found in transaction data");let i=r.filter(e=>e.$Intent?.name!=="AsyncTransactionThunk");function s(t){let r=e[t];if(r.$Intent?.name==="AsyncTransactionThunk"){let e=r.$Intent.data.result;if(null==e)throw Error("AsyncTransactionThunk has not been resolved");return s(e.Result)}let n=i.indexOf(r);if(-1===n)throw Error("Unable to find original index for command");return n}tp(this,f).commands=i,tp(this,f).inputs=n,tg(this,d,i),tg(this,c,n),tp(this,f).mapArguments(e=>{if("Input"===e.$kind){let r=n.indexOf(t[e.Input]);if(-1===r)throw Error("Input has not been resolved");return{...e,Input:r}}if("Result"===e.$kind){let t=s(e.Result);return{...e,Result:t}}if("NestedResult"===e.$kind){let t=s(e.NestedResult[0]);return{...e,NestedResult:[t,e.NestedResult[1]]}}return e})};let tO=tk},4650:(e,t,r)=>{r.d(t,{wn:()=>c,AP:()=>d,qD:()=>p,n4:()=>l,X:()=>function e(t){let{address:r,module:n,name:i,typeParams:s}="string"==typeof t?h(t):t,a=s?.length>0?`<${s.map(t=>"string"==typeof t?t:e(t)).join(",")}>`:"";return`${r}::${n}::${i}${a}`},t4:()=>g,fN:()=>f,hp:()=>h});var n=r(4356),i=r(1051),s=r(801);let a=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,o=/^\d+$/,u=e=>{let t=e.split("/");if(t.length<2||t.length>3)return!1;let[r,n,i]=t;return!!((void 0===i||o.test(i))&&(0,s.C)(r))&&a.test(n)&&n.length<64};function l(e){try{return 32===(0,n.n)(e).length}catch(e){return!1}}let c=32;function d(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0&&(/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2)===c}function p(e){return d(e)}function h(e){let[t,r]=e.split("::"),n=u(t),s=e.slice(t.length+r.length+4),a=s.includes("<")?s.slice(0,s.indexOf("<")):s,o=s.includes("<")?(0,i.sT)(s.slice(s.indexOf("<")+1,s.lastIndexOf(">"))).map(e=>{var t;return(t=e.trim()).includes("::")?h(t):t}):[];return{address:n?t:g(t),module:r,name:a,typeParams:o}}function g(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(2*c,"0")}`}function f(e,t=!1){return g(e,t)}},801:(e,t,r)=>{r.d(t,{C:()=>s,n:()=>a});let n=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,i=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i;function s(e){return!(e.length>235)&&(e.includes("@")?n.test(e):i.test(e))}function a(e,t="at"){let r;let s=e.toLowerCase();if(s.includes("@")){if(!n.test(s))throw Error(`Invalid SuiNS name ${e}`);let[t,i]=s.split("@");r=[...t?t.split("."):[],i]}else{if(!i.test(s))throw Error(`Invalid SuiNS name ${e}`);r=s.split(".").slice(0,-1)}return"dot"===t?`${r.join(".")}.sui`:`${r.slice(0,-1).join(".")}@${r[r.length-1]}`}},4356:(e,t,r)=>{let n;function i(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function s(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function a(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function o(e){if(!Array.isArray(e))throw Error("array expected")}function u(e,t){if(!i(!0,t))throw Error(`${e}: array of strings expected`)}function l(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function c(e){let t="string"==typeof e?e.split(""):e,r=t.length;u("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(o(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(o(t),t.map(t=>{s("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function d(e=""){return s("join",e),{encode:t=>(u("join.decode",t),t.join(e)),decode:t=>(s("join.decode",t),t.split(e))}}function p(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(o(e),!e.length)return[];let n=0,i=[],s=Array.from(e,e=>{if(a(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),u=s.length;for(;;){let e=0,a=!0;for(let i=n;i<u;i++){let o=s[i],u=t*e,l=u+o;if(!Number.isSafeInteger(l)||u/t!==e||l-o!==u)throw Error("convertRadix: carry overflow");let c=l/r;e=l%r;let d=Math.floor(c);if(s[i]=d,!Number.isSafeInteger(d)||d*r+e!==l)throw Error("convertRadix: carry overflow");a&&(d?a=!1:n=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}r.d(t,{n:()=>j,g:()=>b});let h=(e,t)=>0===t?e:h(t,e%t),g=(e,t)=>e+(t-h(e,t)),f=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();"function"==typeof Uint8Array.from([]).toBase64&&Uint8Array.fromBase64;let m=(n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",l((a(58),{encode:e=>{if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw Error("radix.encode input should be Uint8Array");return p(Array.from(e),256,58)},decode:e=>((function(e,t){if(!i(!1,t))throw Error(`${e}: array of numbers expected`)})("radix.decode",e),Uint8Array.from(p(e,58,256)))}),c(n),d(""))),y=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];"function"==typeof Uint8Array.from([]).toHex&&Uint8Array.fromHex;let b=e=>m.encode(e),j=e=>m.decode(e)},241:(e,t,r)=>{function n(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}function i(e){if(e.length<8192)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=8192)t+=String.fromCharCode(...e.slice(r,r+8192));return btoa(t)}r.d(t,{E:()=>n,n:()=>i})},6428:(e,t,r)=>{function n(e){let t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}`,n=r.match(/[0-9a-fA-F]{2}/g)?.map(e=>parseInt(e,16))??[];if(n.length!==r.length/2)throw Error(`Invalid hex string ${e}`);return Uint8Array.from(n)}function i(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}r.d(t,{a:()=>n,n:()=>i})},5488:(e,t,r)=>{function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function i(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function o(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}r.d(t,{S:()=>A});let u=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function l(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}let c=u?e=>e:e=>l(e),d=u?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=l(e[t]);return e};function p(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),i(e),e}class h{}let g=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),f=BigInt(0x100000000-1),m=BigInt(32),y=(e,t,r)=>e>>>r|t<<32-r,b=(e,t,r)=>e<<32-r|t>>>r,j=(e,t,r)=>e<<64-r|t>>>r-32,w=(e,t,r)=>e>>>r-32|t<<64-r,v=(e,t)=>t,k=(e,t)=>e;function O(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let S=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),x=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,E=Uint32Array.from([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),I=new Uint32Array(32);function T(e,t,r,n,i,s){let a=i[s],o=i[s+1],u=I[2*e],l=I[2*e+1],c=I[2*t],d=I[2*t+1],p=I[2*r],h=I[2*r+1],g=I[2*n],f=I[2*n+1],m=S(u,c,a);l=x(m,l,d,o),u=0|m,({Dh:f,Dl:g}={Dh:f^l,Dl:g^u}),({Dh:f,Dl:g}={Dh:v(f,g),Dl:k(f,g)}),({h:h,l:p}=O(h,p,f,g)),({Bh:d,Bl:c}={Bh:d^h,Bl:c^p}),({Bh:d,Bl:c}={Bh:y(d,c,24),Bl:b(d,c,24)}),I[2*e]=u,I[2*e+1]=l,I[2*t]=c,I[2*t+1]=d,I[2*r]=p,I[2*r+1]=h,I[2*n]=g,I[2*n+1]=f}function C(e,t,r,n,i,s){let a=i[s],o=i[s+1],u=I[2*e],l=I[2*e+1],c=I[2*t],d=I[2*t+1],p=I[2*r],h=I[2*r+1],g=I[2*n],f=I[2*n+1],m=S(u,c,a);l=x(m,l,d,o),u=0|m,({Dh:f,Dl:g}={Dh:f^l,Dl:g^u}),({Dh:f,Dl:g}={Dh:y(f,g,16),Dl:b(f,g,16)}),({h:h,l:p}=O(h,p,f,g)),({Bh:d,Bl:c}={Bh:d^h,Bl:c^p}),({Bh:d,Bl:c}={Bh:j(d,c,63),Bl:w(d,c,63)}),I[2*e]=u,I[2*e+1]=l,I[2*t]=c,I[2*t+1]=d,I[2*r]=p,I[2*r+1]=h,I[2*n]=g,I[2*n+1]=f}class M extends h{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,n(e),n(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=a(this.buffer)}update(e){s(this),i(e=p(e));let{blockLen:t,buffer:r,buffer32:n}=this,a=e.length,o=e.byteOffset,u=e.buffer;for(let i=0;i<a;){this.pos===t&&(d(n),this.compress(n,0,!1),d(n),this.pos=0);let s=Math.min(t-this.pos,a-i),l=o+i;if(s===t&&!(l%4)&&i+s<a){let e=new Uint32Array(u,l,Math.floor((a-i)/4));d(e);for(let r=0;i+t<a;r+=n.length,i+=t)this.length+=t,this.compress(e,r,!1);d(e);continue}r.set(e.subarray(i,i+s),this.pos),this.pos+=s,this.length+=s,i+=s}return this}digestInto(e){s(this),function(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,o(this.buffer.subarray(t)),d(r),this.compress(r,0,!0),d(r);let n=a(e);this.get().forEach((e,t)=>n[t]=c(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=a,e.outputLen=s,e}clone(){return this._cloneInto()}}class $ extends M{constructor(e={}){let t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|E[0],this.v0h=0|E[1],this.v1l=0|E[2],this.v1h=0|E[3],this.v2l=0|E[4],this.v2h=0|E[5],this.v3l=0|E[6],this.v3h=0|E[7],this.v4l=0|E[8],this.v4h=0|E[9],this.v5l=0|E[10],this.v5h=0|E[11],this.v6l=0|E[12],this.v6h=0|E[13],this.v7l=0|E[14],this.v7h=0|E[15],function(e,t={},r,i,s){if(n(64),e<0||e>64)throw Error("outputLen bigger than keyLen");let{key:a,salt:o,personalization:u}=t;if(void 0!==a&&(a.length<1||a.length>r))throw Error("key length must be undefined or 1.."+r);if(void 0!==o&&16!==o.length)throw Error("salt must be undefined or 16");if(void 0!==u&&16!==u.length)throw Error("personalization must be undefined or 16")}(t,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(void 0!==r&&(o=(r=p(r)).length),this.v0l^=this.outputLen|o<<8|0x1010000,void 0!==s){let e=a(s=p(s));this.v4l^=c(e[0]),this.v4h^=c(e[1]),this.v5l^=c(e[2]),this.v5h^=c(e[3])}if(void 0!==i){let e=a(i=p(i));this.v6l^=c(e[0]),this.v6h^=c(e[1]),this.v7l^=c(e[2]),this.v7h^=c(e[3])}if(void 0!==r){let e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:s,v3l:a,v3h:o,v4l:u,v4h:l,v5l:c,v5h:d,v6l:p,v6h:h,v7l:g,v7h:f}=this;return[e,t,r,n,i,s,a,o,u,l,c,d,p,h,g,f]}set(e,t,r,n,i,s,a,o,u,l,c,d,p,h,g,f){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|a,this.v3h=0|o,this.v4l=0|u,this.v4h=0|l,this.v5l=0|c,this.v5h=0|d,this.v6l=0|p,this.v6h=0|h,this.v7l=0|g,this.v7h=0|f}compress(e,t,r){this.get().forEach((e,t)=>I[t]=e),I.set(E,16);let{h:n,l:i}=function(e,t=!1){return t?{h:Number(e&f),l:Number(e>>m&f)}:{h:0|Number(e>>m&f),l:0|Number(e&f)}}(BigInt(this.length));I[24]=E[8]^i,I[25]=E[9]^n,r&&(I[28]=~I[28],I[29]=~I[29]);let s=0;for(let r=0;r<12;r++)T(0,4,8,12,e,t+2*g[s++]),C(0,4,8,12,e,t+2*g[s++]),T(1,5,9,13,e,t+2*g[s++]),C(1,5,9,13,e,t+2*g[s++]),T(2,6,10,14,e,t+2*g[s++]),C(2,6,10,14,e,t+2*g[s++]),T(3,7,11,15,e,t+2*g[s++]),C(3,7,11,15,e,t+2*g[s++]),T(0,5,10,15,e,t+2*g[s++]),C(0,5,10,15,e,t+2*g[s++]),T(1,6,11,12,e,t+2*g[s++]),C(1,6,11,12,e,t+2*g[s++]),T(2,7,8,13,e,t+2*g[s++]),C(2,7,8,13,e,t+2*g[s++]),T(3,4,9,14,e,t+2*g[s++]),C(3,4,9,14,e,t+2*g[s++]);this.v0l^=I[0]^I[16],this.v0h^=I[1]^I[17],this.v1l^=I[2]^I[18],this.v1h^=I[3]^I[19],this.v2l^=I[4]^I[20],this.v2h^=I[5]^I[21],this.v3l^=I[6]^I[22],this.v3h^=I[7]^I[23],this.v4l^=I[8]^I[24],this.v4h^=I[9]^I[25],this.v5l^=I[10]^I[26],this.v5h^=I[11]^I[27],this.v6l^=I[12]^I[28],this.v6h^=I[13]^I[29],this.v7l^=I[14]^I[30],this.v7h^=I[15]^I[31],o(I)}destroy(){this.destroyed=!0,o(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let A=function(e){let t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new $(e))}}]);